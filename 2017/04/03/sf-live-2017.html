<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.0
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5">

    
    <!-- Theme Mode -->
    <script>
        const isAutoTheme = true;
        document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme'))
    </script>
    

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/favicon.png" type="image/x-icon">

    

    
    <!-- KaTeX 0.15.2 -->
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    
    <!-- Mermaid 8.13.10 -->
    <script defer src="/assets/js/vendor/mermaid.min.js" onload="mermaid.initialize({startOnLoad:true});"></script>
    

    <!-- Simple Jekyll Search 1.9.1 -->
    <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script>

    
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="https://bedrockstreaming.matomo.cloud/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '2']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src='//cdn.matomo.cloud/bedrockstreaming.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://tech.bedrockstreaming.com';
      const isCookieConsent = 'false';
      const analyticsName = '';
    </script>

    
    

    <!-- SEO tags -->
    <meta property="og:image" content="https://tech.bedrockstreaming.com/images/posts/sflive2017/SfLive2017.jpg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Symfony Live Paris 2017 | Bedrock Tech Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Symfony Live Paris 2017" />
<meta name="author" content="Guillaume BOUYGE, Fabien De Saint Pern, Benoit Viguier" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Symfony Live Paris 2017" />
<meta property="og:description" content="Symfony Live Paris 2017" />
<link rel="canonical" href="https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html" />
<meta property="og:url" content="https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html" />
<meta property="og:site_name" content="Bedrock Tech Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-04-03T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Symfony Live Paris 2017" />
<script type="application/ld+json">
{"description":"Symfony Live Paris 2017","headline":"Symfony Live Paris 2017","dateModified":"2017-04-03T00:00:00+00:00","datePublished":"2017-04-03T00:00:00+00:00","url":"https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html","author":{"@type":"Person","name":"Guillaume BOUYGE, Fabien De Saint Pern, Benoit Viguier"},"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Bedrock Tech Blog" href="https://tech.bedrockstreaming.com/feed.xml"/>
    <link type="application/atom+xml" rel="alternate" href="https://tech.bedrockstreaming.com/feed.xml" title="Bedrock Tech Blog" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Symfony Live Paris 2017">
    <meta name="twitter:description" content="In March we attended Symfony Live Paris 2017, and it was very interesting.Here are some special feedbacks about some of our favorite talks.Varnish tags and i...">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://tech.bedrockstreaming.com/images/posts/sflive2017/SfLive2017.jpg">
    <meta name="twitter:image:alt" content="Symfony Live Paris 2017">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/images/common/br-site-logo.jpg" />
		</a>
        
        <a class="site-title" aria-label="Bedrock Tech Blog" href="/">
        Bedrock Tech Blog
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fas fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        

        
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Jobs" title="Jobs" href="/jobs/">
                     Jobs 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Last Friday Talks" title="Last Friday Talks" href="/lft/">
                     Last Friday Talks 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Meetups & Conferences" title="Meetups & Conferences" href="/meetups/">
                     Meetups & Conferences 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="OSS" title="OSS" href="/oss/">
                     OSS 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Search" title="Search" href="/search/">
                     <i class="fas fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Tags" title="Tags" href="/tags/">
                     <i class="fas fa-tags" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        
        
        <li class="separator"> | </li>
        <li><a id="theme-toggle" title="Symfony Live Paris 2017 " aria-label="Symfony Live Paris 2017" onclick="themeToggle()"></a></li>
        
    </ul>

	</nav>
</header>

    <div class="content">
      <article class="feature-image" >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Symfony+Live+Paris+2017" class="title">Symfony Live Paris 2017</h1>
      <div class="post-info">


<span class="author">

    </span><span class="spacer"> - </span>



<span class="author">

    </span><span class="spacer"> - </span>



<span class="author">

    </span><span class="spacer"> - </span>



<span class="author">

    </span><span class="spacer"> - </span>



<span class="author">

    </span><span class="spacer"> - </span>



<span class="author">

    </span><span class="spacer"> - </span>



  <span class="publication-date">
    
    April 03, 2017
  </span>
</div>

      
    </div>
  </header>

  <section class="post-content">
  
      <p>In March we attended <a href="https://paris2017.live.symfony.com/speakers">Symfony Live Paris 2017</a>, and it was very interesting.
Here are some special feedbacks about some of our favorite talks.
<img src="/images/posts/sflive2017/CitéUniversitaire.jpg" alt="Cité Universitaire" /></p>

<h2 id="varnish-tags-and-invalidation">Varnish tags and invalidation</h2>
<h3 id="speaker--jérémy-derussé">Speaker : Jérémy Derussé</h3>
<h3 id="description">Description</h3>
<p>Jérémy presented us how to host applications on an production environment on a Raspberry PI using varnish cache.
Today, the internet traffic and the number of unique visitors increase every days.
People imagines that we need strong hardware servers to be able to respond to this traffic.</p>

<p>The interesting part of this presentation was the way of how to better use the cache in front of our applications.
To be able to minimize the number of requests to the server by managing the cache duration
and being able to invalidate it on demand when a resource expire.</p>

<h3 id="how-to-tag-and-segment-the-cache">How to tag and segment the cache</h3>
<p>By tagging every resources by a unique id (<code class="language-plaintext highlighter-rouge">entityName_id</code> by example), you’ll be able to invalidate later the cache linked to it.
You can simplify and automate this tagging by using event dispatcher and listen all entities creations / modifications. With
this solution you also centralize your code logic.</p>

<p>Cache tagging also helps you with caching / invalidating many-to-many relationships between content items.</p>

<h3 id="how-to-invalidate-the-cache">How to invalidate the cache</h3>
<p>Jérémy showed us a very interesting interface, displaying the entity content, automatically refreshed when the backend needs to be called because of a cache invalidation.</p>

<p>Once a resource is modified and needs to be uncached, your backend needs to call the Varnish to purge the tag linked to
resources. Once again the <a href="https://foshttpcachebundle.readthedocs.io/en/latest/reference/tag-handler.html">FOS HttpCache bundle</a> does it very well.</p>

<h3 id="advantages--drawbacks">Advantages / drawbacks</h3>
<p>Caching everything is fine, but it has limitations :
<strong>Works well when :</strong></p>
<ul>
  <li>You have mostly read access</li>
  <li>You have more cache hit than miss</li>
  <li>Your application is able to communicate with your cache servers</li>
</ul>

<p><strong>Can be difficult when :</strong></p>
<ul>
  <li>Operations are not atomic</li>
  <li>It’s complexifying / slowing backend writes</li>
</ul>

<h3 id="hosting-on-a-raspberry-pi">Hosting on a Raspberry PI</h3>
<p>Jérémy finally showed us an impressive demonstration of an application running on Raspberry PI.
<strong>The configuration :</strong></p>
<ul>
  <li>Docker
    <ul>
      <li>MySQL</li>
      <li>NGINX</li>
      <li>PHP7-FPM</li>
      <li>Varnish</li>
    </ul>
  </li>
</ul>

<p><strong>The results :</strong></p>
<ul>
  <li>Number of calls with no caching handling : around 8 / secs</li>
  <li>Number of calls with varnish cache response : around 900 / secs
    <ul>
      <li>impressive !</li>
    </ul>
  </li>
</ul>

<h3 id="resources">Resources</h3>
<p>You can manipulate cache by using the FOSHttpCacheBundle : <a href="https://github.com/FriendsOfSymfony/FOSHttpCacheBundle">https://github.com/FriendsOfSymfony/FOSHttpCacheBundle</a></p>

<p>Link to the speaker presentation : <a href="https://www.slideshare.net/JrmyDeruss/grce-aux-tags-varnish-jai-switch-ma-prod-sur-raspberry-pi">https://www.slideshare.net/JrmyDeruss/grce-aux-tags-varnish-jai-switch-ma-prod-sur-raspberry-pi</a></p>

<h2 id="everything-a-dev-should-know-about-unicode">Everything a dev should know about Unicode</h2>
<h3 id="speaker--nicolas-grekas">Speaker : Nicolas Grekas</h3>
<h3 id="description-1">Description</h3>

<p>Nicolas Grekas made a talk about Unicode, from its origin to the latest advanced uses, and more precisely in the PHP ecosystem. He explained how utf8/16 works and the complexity of language management, especially the folding, graphs clusters, modifiers etc.</p>

<p>PHP doesn’t natively handle the unicode #RIPphp6, so it is important to understand the specificities of utf8 in order to avoid some traps, especially concerning string length calculation, comparisons and insertions in database.</p>

<p>In order to manage the unicode, you must use the php functions of mbstring, iconv, graph and inttl. The “u” modifier allows the utf8 to be processed correctly for regular expressions. For MySQL, utf8_unicode_ci handles ligatures whereas utf8_general_ci does not handle them - but is therefore faster.</p>

<p>Concerning security and avoiding <em>typosquatting</em>, there is a list of confusable characters for filtering: <a href="https://unicode.org/cldr/utility/confusables.jsp?a=6play&amp;r=None">https://unicode.org/cldr/utility/confusables.jsp?a=6play&amp;r=None</a></p>

<p>This presentation was very interesting and very useful. Thank you Nicolas ;-)</p>

<h3 id="resources-1">Resources</h3>
<p>Link to the speaker presentation : <a href="https://speakerdeck.com/nicolasgrekas/tout-ce-quun-dev-devrait-savoir-a-propos-dunicode">https://speakerdeck.com/nicolasgrekas/tout-ce-quun-dev-devrait-savoir-a-propos-dunicode</a></p>

<h2 id="performances-optimisation-with-php7">Performances optimisation with Php7</h2>
<h3 id="speaker-julien-pauli">Speaker: Julien Pauli</h3>
<h3 id="description-2">Description</h3>

<p>As usual, it was a real pleasure to listen Julien Pauli speaking about what’s under the hood of Php7.
Everybody knows there is an actual performances gap between version 5 and 7, but this talk gave some clues to understand the technical reasons behind these major improvements.</p>

<p>First, Php compiler has been totally rewritten (yes, Php is compiled in opcode and <a href="https://php.net/manual/en/intro.opcache.php">cached in opcache</a>).
Thanks to an <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">AST</a>, the compiler really understands the analyzed code,
and lot of optimizations can be done at <em>compilation time</em> instead of <em>runtime</em>.
For example, all constant expressions (like <code class="language-plaintext highlighter-rouge">$a = 1024 * 2048</code>) are now computed once for all.
Of course, this compilation pass is now longer but it is exactly the reason why <a href="https://php.net/manual/en/intro.opcache.php">opcache</a>
has been made, and why you should warm up your opcache during your scripts’ deployment.
Julien also introduced the parameter <a href="https://php.net/manual/en/opcache.configuration.php#ini.opcache.interned-strings-buffer">opcache.interned-strings-buffer</a>,
used to configure <a href="https://en.wikipedia.org/wiki/String_interning">string interning</a> in Php.
He advised to increase its default value (or at least to check relevance),
because even a minimal Symfony application contains a lot of huge DocBlocks (and then huge strings) so the default
value could be underestimated in some cases. Ready to benchmark! :)</p>

<p>We had also some interesting information about <a href="https://blog.blackfire.io/php-7-performance-improvements-packed-arrays.html">packed arrays</a> optimisations,
and some string tips (<code class="language-plaintext highlighter-rouge">"$a - $b"</code> is better than <code class="language-plaintext highlighter-rouge">$a . ' - ' . $b</code> for example).
Then he gave a very good overview of all the efforts done on internal Php structures in order to optimize memory access,
CPU cycles… an impressive work!</p>

<p>To finish, we have now an (very) approximated date for Php8 release!! Not before 2020… be patient :)</p>

<h3 id="resources-2">Resources</h3>

<p>Link to the speaker presentation: <a href="https://www.slideshare.net/jpauli/symfony-live-2017php7performances">https://www.slideshare.net/jpauli/symfony-live-2017php7performances</a></p>

<p>Do not hesitate to visit Julien’s blog: <a href="https://jpauli.github.io/">https://jpauli.github.io/</a></p>

<h2 id="and-many-more">And many more</h2>

<p>We also liked :</p>

<ul>
  <li>Blog posts about Symfony 4 here : <a href="https://fabien.potencier.org/">https://fabien.potencier.org/</a></li>
  <li>Micro-Services Symfony at Meetic: feedback after 2 years of redesign! <a href="https://fr.slideshare.net/meeticTech/php-symfony-microservices-migration-meetictech">https://fr.slideshare.net/meeticTech/php-symfony-microservices-migration-meetictech</a></li>
  <li>Introduction to CQRS and Event Sourcing: <a href="https://fr.slideshare.net/meeticTech/php-symfony-microservices-migration-meetictech">https://www.slideshare.net/samuelroze/introduction-to-cqrs-and-event-sourcing-74061563</a></li>
  <li>Web security: and if we continued to break everything? <a href="https://github.com/ninsuo/slides">https://github.com/ninsuo/slides</a></li>
</ul>

<p>Yan can find most of the slides here: <a href="https://joind.in/event/symfonylive-paris-2017/schedule/list">https://joind.in/event/symfonylive-paris-2017/schedule/list</a></p>

    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Symfony+Live+Paris+2017%20https%3A%2F%2Ftech.bedrockstreaming.com%2F2017%2F04%2F03%2Fsf-live-2017.html"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
             
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html&title=Symfony+Live+Paris+2017%20%7C%20Bedrock+Tech+Blog&summary=&source=https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Symfony Live Paris 2017%20%7C%20Bedrock Tech Blog&body=https://tech.bedrockstreaming.com/2017/04/03/sf-live-2017.html"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="/tags/#symfony">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> symfony</p>
        </a></li>
      
        <li><a class="button" href="/tags/#symfony+live">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> symfony live</p>
        </a></li>
      
    </ul>
  </div>



</article>

<!-- Post navigation -->

<div id="post-nav">
    
    <div id="previous-post">
        <a alt="Last night isomorphic JS saved our life!" href="/2017/05/17/spa-mode-isomorphism-js.html">
            <p>Previous post</p>
            Last night isomorphic JS saved our life!
        </a>
    </div>
    

    
    <div id="next-post">
        <a alt="Format all the things" href="/2017/03/30/prettier.html">
            <p>Next post</p>
            Format all the things
        </a>
    </div>
    
</div>



<!--Utterances-->


<!-- Cusdis -->


<!-- Disqus -->


<!-- To change color of links in the page -->
<style>
  header#main {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
  }

  

  
  header#main { background-image: url('/images/posts/sflive2017/SfLive2017.jpg'); }
  
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a>
</p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
    <a feed.xml href="/feed.xml"
       title="Follow RSS feed"
       target="_blank">
        <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>



    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://github.com/BedrockStreaming"
               title="Follow on Github"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-github fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.linkedin.com/company/bedrock-streaming"
               title="Follow on Linkedin"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://twitter.com/Bedrock_Tech"
               title="Follow on Twitter"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.youtube.com/channel/UCSwvTdCWHS6ulRaIqdk7lNw"
               title="Follow on Youtube"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    


                </ul>
            </div>
</footer>



  </body>
</html>
