<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.0
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5">

    <!-- Theme Mode-->
    
    <script>
        const isAutoTheme = true;
        document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme'))
    </script>
    

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!--Favicon-->
    <link rel="shortcut icon" href="/assets/favicon.png" type="image/x-icon">

    

    <!-- KaTeX 0.15.2 -->
    
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    <!-- Mermaid 8.13.10 -->
    
    <script defer src="/assets/js/vendor/mermaid.min.js" onload="mermaid.initialize({startOnLoad:true});"></script>
    

    <!-- Simple Jekyll Search 1.9.1 -->
    <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script>

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://tech.bedrockstreaming.com';
      const isCookieConsent = 'false';
      const analyticsName = '';
    </script>

    
    

    <!-- seo tags -->
    <meta property="og:image" content="https://tech.bedrockstreaming.com/images/banner_xl.jpg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Announcing BedrockStreaming/pr-size-labeler github action 🎉 | Bedrock Tech Blog</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Announcing BedrockStreaming/pr-size-labeler github action 🎉" />
<meta name="author" content="Antoine Caron" />
<meta property="og:locale" content="en" />
<meta name="description" content="We have just published a github action that dynamically adds size labels to Pull Requests based on the size of the diff and the number of modified files." />
<meta property="og:description" content="We have just published a github action that dynamically adds size labels to Pull Requests based on the size of the diff and the number of modified files." />
<link rel="canonical" href="https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html" />
<meta property="og:url" content="https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html" />
<meta property="og:site_name" content="Bedrock Tech Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-31T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Announcing BedrockStreaming/pr-size-labeler github action 🎉" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html"},"url":"https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html","author":{"@type":"Person","name":"Antoine Caron"},"@type":"BlogPosting","headline":"Announcing BedrockStreaming/pr-size-labeler github action 🎉","dateModified":"2022-05-31T00:00:00+00:00","datePublished":"2022-05-31T00:00:00+00:00","description":"We have just published a github action that dynamically adds size labels to Pull Requests based on the size of the diff and the number of modified files.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Bedrock Tech Blog" href="https://tech.bedrockstreaming.com/feed.xml"/>
    <link type="application/atom+xml" rel="alternate" href="https://tech.bedrockstreaming.com/feed.xml" title="Bedrock Tech Blog" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Announcing BedrockStreaming/pr-size-labeler github action 🎉">
    <meta name="twitter:description" content="Smaller PR for a reduced mental loadFor several years at Bedrock Streaming the technical teams have used the Pull Requests code review for each project. Betw...">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://tech.bedrockstreaming.com/images/banner_xl.jpg">
    <meta name="twitter:image:alt" content="Announcing BedrockStreaming/pr-size-labeler github action 🎉">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/images/br-site-logo.jpg" />
		</a>
        
        <a class="site-title" aria-label="Bedrock Tech Blog" href="/">
        Bedrock Tech Blog
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fas fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        

        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="About" title="About" href="/about/">
                     About 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Jobs" title="Jobs" href="/jobs/">
                     Jobs 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Last Friday Talks" title="Last Friday Talks" href="/lft/">
                     Last Friday Talks 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Meetups & Conferences" title="Meetups & Conferences" href="/meetups/">
                     Meetups & Conferences 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="OSS" title="OSS" href="/oss/">
                     OSS 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Search" title="Search" href="/search/">
                     <i class="fas fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Tags" title="Tags" href="/tags/">
                     <i class="fas fa-tags" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        
        
        <li class="separator"> | </li>
        <li><a id="theme-toggle" title="Announcing BedrockStreaming/pr-size-labeler github action 🎉 " aria-label="Announcing BedrockStreaming/pr-size-labeler github action 🎉" onclick="themeToggle()"></a></li>
        
    </ul>

	</nav>
</header>

    <div class="content">
      <article class="feature-image" >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Announcing+BedrockStreaming%2Fpr-size-labeler+github+action+%F0%9F%8E%89" class="title">Announcing BedrockStreaming/pr-size-labeler github action 🎉</h1>
      


<div class="post-info"><a href="https://blog.slashgear.dev/" target="_blank" rel="noopener">
      <img alt="Author's avatar" src="/images/avatar/acaron.jpeg">
    
    <p class="meta">
      Antoine Caron - 
      
      May 31, 2022
    </p></a></div>

      
    </div>
  </header>

  <section class="post-content">
  
      <p><img src="/images/posts/pr-size-labeler/helena-hertz-wWZzXlDpMog-unsplash.jpg" alt="laurel branch with a white paper label" /></p>

<h2 id="smaller-pr-for-a-reduced-mental-load">Smaller PR for a reduced mental load</h2>

<p>For several years at Bedrock Streaming the technical teams have used the <em>Pull Requests</em> code review for each project. 
Between collective ownership, quality improvement, regression detection, knowledge sharing, learning, there is no question in this article to further legitimize the immense interest to implement this practice in your teams.</p>

<p>This practice can however lead to some problems, each developer who proposes Pull Requests for review by his colleagues can sometimes propose monstrous diffs.
Sometimes constrained by certain project mechanics or tools, but sometimes also by the “Wheelbarrow” effect.</p>

<blockquote>
  <p>While I was there, I took the opportunity to modify this too.</p>
</blockquote>

<p>It always starts from a good will, however, to make PR that changes several <em>intentions</em>. 
By creating his <em>wheelbarrow</em>, the developer is adding diff to a pull request that deviates from the original intent.</p>

<p>Limiting the number of <em>intentions</em> of a pull request often simplifies the proofreading of it.</p>

<blockquote>
  <p>Has anyone ever had the pleasure of reviewing a Pull Request with more than 1000 lines of changes with more than 100 modified files?</p>
</blockquote>

<p>We also forget that making a “big” Pull Request can also generate a mental load on the person or persons assigned to its development. 
We have to remember the modified files, we are more likely to generate conflicts.</p>

<blockquote>
  <p>Ok, lets make smaller PR’s! We promise!</p>
</blockquote>

<h2 id="you-cant-improve-anything-without-measuring-it">You can’t improve anything without measuring it</h2>

<p>Saying “from now on we do smaller PR<sup id="fnref:pr" role="doc-noteref"><a href="#fn:pr" class="footnote" rel="footnote">1</a></sup>” is a pious hope.
We have been doing application monitoring for a long time, we know that thanks to these measurements we are able to understand if the evolution is rather positive or not.
Why not do it on our PR sizes?
Why not implement monitoring on our devs?</p>

<p>The idea is absolutely not to measure/comparison the performance of our developers. 
It would not be positive for the engineering manager and the dev to compare the performance of one developer against another. 
We are all different after all!</p>

<p><strong>The size of a dev’s PRs does not reflect his productivity at all, it just allows to evaluate the personal and collective mental load produced.</strong>
There are other measures we would like to follow, but let’s start with the size of the PR.</p>

<p>Be warned, the purpose of this metric is not to say <em>“Oh! you made an XL size PR that’s not right”</em> 😡.
It happens from time to time, and it’s not bad.
You should rather look at the distribution of PR sizes of a dev.</p>

<p>Let’s take the example of a dev named Bob who would have this distribution over the last month:
<img src="/images/posts/pr-size-labeler/PR-size-distribution-for-Bob-over-the-last-month.png" alt="PR size distribution for Bob over the last month." /></p>

<p>Here we see that Bob is globally making large PRs (taking arbitrary t-shirt sizes), seeing this we can say: <em>As a TechLead, how can I best accompany Bob to make smaller PRs?</em></p>

<p>Next, let’s look at Alice’s profile, which has a more centered distribution:
<img src="/images/posts/pr-size-labeler/pr-size-distribution-for-alice-over-the-last-month.png" alt="PR size distribution for Alice over the last month." /></p>

<p>Here, we can say that overall the majority of RPs are of moderate size (in this absolute scale), so the mental load should be lower than for Bob.
<em>This remains an interpretation that will require some discussion to be sure.</em></p>

<h2 id="how-to-set-it-up">How to set it up?</h2>

<p>If you are interested in this measure and like us you use the Github Actions solution for your automation, it will be very easy for you to implement our brand new <em>pr-size-labeler</em> in your projects.</p>

<p>To do so, you can add a workflow to your Github repository:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">name</span><span class="pi">:</span> <span class="s">🏷 PR size labeler</span>

<span class="na">on</span><span class="pi">:</span> 
  <span class="na">pull_request</span><span class="pi">:</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">pr-labeler</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Label the PR size</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">BedrockStreaming/pr-size-labeler@v1.1.0</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">token</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">exclude_files</span><span class="pi">:</span> <span class="s">.lock</span> <span class="c1"># RegExp of your excluded file pattern</span>
</code></pre></div></div>

<p>The action will then put <code class="language-plaintext highlighter-rouge">Size/S</code>, <code class="language-plaintext highlighter-rouge">Size/XL</code> tags on your PRs automatically according to the number of modified files and the number of added or deleted lines.</p>

<p>🧙‍ <strong>You can change the text of the labels used and even the thresholds for each size as you wish.
<a href="https://github.com/marketplace/actions/pull-request-auto-size-labeler">Take a look at Github presentation page of this Github action.</a></strong></p>

<p>Once set up, you should also notice the added labels can allow to evaluate the time needed for the review before starting it.</p>

<blockquote>
  <p>I’ve got 30 minutes to spare, I’m not going to start reviewing this PR XL.</p>
</blockquote>

<p>It’s now your turn to play!</p>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:pr" role="doc-endnote">
      <p>Alias for Pull Request <a href="#fnref:pr" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Announcing+BedrockStreaming%2Fpr-size-labeler+github+action+%F0%9F%8E%89%20https%3A%2F%2Ftech.bedrockstreaming.com%2F2022%2F05%2F31%2Fgithub-action-pr-size-labeler.html"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
             
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html&title=Announcing+BedrockStreaming%2Fpr-size-labeler+github+action+%F0%9F%8E%89%20%7C%20Bedrock+Tech+Blog&summary=&source=https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Announcing BedrockStreaming/pr-size-labeler github action 🎉%20%7C%20Bedrock Tech Blog&body=https://tech.bedrockstreaming.com/2022/05/31/github-action-pr-size-labeler.html"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tags</li>
      

      
        <li><a class="button" href="/tags/#devops">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> devops</p>
        </a></li>
      
        <li><a class="button" href="/tags/#github">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> github</p>
        </a></li>
      
        <li><a class="button" href="/tags/#oss">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> oss</p>
        </a></li>
      
    </ul>
  </div>



</article>

<!-- Post navigation -->

<div id="post-nav">
    
    <div id="previous-post">
        <a alt="Comment ne pas jeter son application Frontend tous les deux ans ?" href="/2022/06/08/comment-ne-pas-jeter-votre-application.html">
            <p>Previous post</p>
            Comment ne pas jeter son application Frontend tous les deux ans ?
        </a>
    </div>
    

    
    <div id="next-post">
        <a alt="Retour sur l'AFUP Day Lille 2022" href="/2022/05/30/afup-day-lille-2022.html">
            <p>Next post</p>
            Retour sur l'AFUP Day Lille 2022
        </a>
    </div>
    
</div>



<!--Utterances-->


<!-- Cusdis -->


<!-- Disqus -->


<!-- To change color of links in the page -->
<style>
  header#main {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
  }

  
  .post-content a { color: rgb(251,87,66) !important; }
  .share-buttons a { color: rgb(251,87,66) !important; }
  .tag-list a:not(:hover) { color: rgb(251,87,66) !important; }
  div#post-nav a { color: rgb(251,87,66) !important; }
  footer a { color: rgb(251,87,66) !important; }
  .site-header nav a:hover {  color: rgb(251,87,66) !important; }
  a.button:hover {
    background: rgb(251,87,66) !important;
    border: 1px solid rgb(251,87,66) !important;
    color: white;
    text-decoration: none;
    filter: none;
  }
  header#main {
      background-color: rgb(251,87,66) !important;
      background-image: url('/assets/img/lineart.png');
  }
  

  
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a>
</p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
    <a feed.xml href="/feed.xml"
       title="Follow RSS feed"
       target="_blank">
        <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>



    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://github.com/BedrockStreaming"
               title="Follow on Github"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-github fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.linkedin.com/company/bedrock-streaming"
               title="Follow on Linkedin"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://twitter.com/Bedrock_Tech"
               title="Follow on Twitter"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    


                </ul>
            </div>
</footer>



  </body>
</html>
