---
layout: ../../layouts/post.astro
title: "Bedrock au Forum PHP 2023"
description: "Nos retours du Forum PHP √† Paris, les 12 et 13 octobre 2023"
author: team_backend
tags: [afup, php, forumphp, conference]
color: rgb(251,87,66)
thumbnail: "../../../../images/posts/forumphp2023/header.jpg"
language: fr
comments: true
---

Cette ann√©e encore, Bedrock √©tait pr√©sent au Forum PHP pour cette √©dition 2023.

Nous √©tions sept au total : trois organisateurs, trois visiteurs et une conf√©renci√®re, Pauline Rambaud.

## Les conf√©rences que l‚Äôon retient

### Why is PHP still awesome in 2023 ?

> Conf√©rence pr√©sent√©e par [Frank Karlitschek](https://twitter.com/fkarlitschek), co-fondateur de [NextCloud](https://nextcloud.com)

La conf√©rence s'est divis√©e en deux parties que l'on pourrait r√©sumer de la
mani√®re suivante :
* Une pr√©sentation assez d√©taill√©e de ce qu'est *NextCloud*
* Pourquoi le choix de `PHP`üêò pour `NextCloud` ?

#### NextCloud

`NextCloud` est un outil comparable √† *Google Workspace*, car il permet la gestion
de fichiers partag√©s, de documents de type Office, et propose aussi des outils
de conversations textuelles et d'appels vid√©os.

Il existe en version desktop bien s√ªr, mais aussi en version mobile.
On peut noter qu'il est utilis√© par le *Gouvernement Fran√ßais*, ou encore
*l'Union Europ√©enne*.

En somme, il constitue aujourd'hui une alternative cr√©dible √† ses concurrents
Am√©ricains ou Chinois.

Une de ses diff√©rences majeure toutefois est qu'il est *open-source*.

#### Pourquoi choisir PHP pour NextCloud ?

Les raisons que Frank nous donne sont les suivantes :

* `PHP`üêò est facile √† d√©ployer
* Il est ind√©pendant (il n'appartient pas √† Google)
* Son isolation des process garantie une bonne scalabilit√©
* Il propose une bonne courbe d'apprentissage
* Il √©volue depuis longtemps et est donc robuste
* Il a derri√®re lui une grosse communaut√© de d√©veloppeur
* Un important √©cosyst√®me d'int√©gration et de frameworks

Il √©voque toutefois quelques limites qui subsistent √† son sens :

* il reste (de moins en moins) facile d'√©crire du code non s√©curis√©, malgr√©
  le syst√®me de typehinting ou les enums
* il reste des incoh√©rences, par exemple dans les `array functions`
* il reste tr√®s limit√© dans la programmation fonctionnelle

Toutefois, Franck conclura sur le fait que sans `PHP`, `NextCloud` n'aurait
jamais √©t√© possible.

### Augmentez votre couverture : supprimez des tests

![Baptiste Langlade](../../../../images/posts/forumphp2023/augmentez-votre-couverture.jpeg)

> Conf√©rence pr√©sent√©e par [Baptiste Langlade](https://twitter.com/Baptouuuu)

Avez-vous d√©j√† √©t√© confront√© √† la probl√©matique de l'augmentation exponentielle
du nombre de tests de votre projet, et par cons√©quent, de l'augmentation du temps
d'ex√©cution de vos tests ?

Ce fut le cas de Baptiste dans l'Application de gestion de Documents √† laquelle
il a particip√©.

#### Vive le hasard

Sa r√©ponse √† ce probl√®me fut la suivante : *jouer des tests au hasard*, autrement
dit faire du `Property Based Testing`.

L'id√©e est de g√©n√©rer al√©atoirement des donn√©es pour couvrir le plus de cas
possible.

Ensuite, on √©crit un test si un bug survient.

Cette approche se base sur la fameuse loi de Murphy qui veut que lorsqu'un probl√®me
doit survenir, il arrive toujours trop t√¥t.

On mise donc sur l'al√©atoire pour faire remonter les bugs plus rapidement.
Ainsi, on d√©termine que pour tout ensemble de donn√©e X, l'ensemble des tests
doit √™tre vrai.

#### Blackbox

De cette approche est n√©e [Blackbox](https://github.com/Innmind/BlackBox), une
librairie compatible `PHPUnit` permettant de faciliter et d'automatiser la mise
en place de tests bas√©e sur le `Property Based Testing`.

Elle permet notamment de faire en sorte que les jeux de donn√©es que l'on va
ins√©rer en input peuvent √™tre vraiment divers et vari√©s, et provoquer des
cas critiques non r√©pertori√©s.

R√©sultat : plus on joue les tests, plus notre confiance grandit dans l'application.

### Comment contribuer √† PHP en 2023 ? Georges Banyard

![Georges Banyard](../../../../images/posts/forumphp2023/contribuer-a-php-en-2023.jpeg)

> Conf√©rence pr√©sent√©e par [Georges Banyard](https://twitter.com/Girgias)

Tout d‚Äôabord Georges Banyard a introduit la notion de compilation minimale de PHP en C, pour cela il a utilis√© son blog
et nous a pr√©sent√© les choses importantes √† connaitre.

Puis, il a fait la pr√©sentation du code source de PHP et du moteur de recherche qu‚Äôil utilise.

Ensuite, il a commenc√© √† nous montrer quelques ressources auxquelles se r√©ferer si nous d√©sirons contribuer √† PHP.

Rappelons que PHP est un langage de programmation open-source et que toute personne d√©sireuse de l‚Äôam√©liorer peut
proposer une impl√©mentation.

Les ressources que nous pourrions utiliser si notre souhait √©tait de cr√©er une nouvelle fonction dans PHP seraient :

* des articles sur Zend (https://www.zend.com/resources/writing-php-extensions)
* le PHP internal books (https://www.phpinternalsbook.com/)
* ou bien encore la ‚ÄúRoom 11‚Äù sur Stackoverflow o√π se retrouve de nombreux contributeurs PHP.

Georges Banyard est ensuite pass√© √† la pratique et a cod√© en direct une nouvelle fonction de tri dans un
tableau `array_search`. Le but de cette conf√©rence √©tait de d√©mystifier la contribution √† PHP et de montrer aux gens que
finalement ce n‚Äôest pas si compliqu√©, il suffit de plonger dedans !

### Utilisez la biblioth√®que standard PHP (SPL) au quotidien

![Florian Merle](../../../../images/posts/forumphp2023/bibliotheque-standard-psl.jpeg)

> Conf√©rence pr√©sent√©e par [Florian Merle](https://twitter.com/florianm__)

La biblioth√®que [SPL](https://www.php.net/manual/fr/book.spl.php) √ßa vous dit quelque
chose ? En r√©alit√©, vous l'utilisez d√©j√† au quotidien √† travers les `Exceptions`
ou bien la fonction `spl_autoload_register` par exemple, mais Florian est venu
nous parler de certains aspects moins connus et pourtant tr√®s utiles.

#### Les structures de donn√©es

La plus √©vidente et la plus connue, qui a sans doute contribu√© √† la facilit√©
d'acc√®s de `PHP`üêò est bien √©videmment l'`array`. Mais si son avantage majeur
est le fait qu'il soit multi-usage, il se r√©v√®le en r√©alit√© assez peu optimis√©
pour les gros volumes de donn√©es.

D'autres structures telles que les listes doublements cha√Æn√©es
([SplDoublyLinkedList](https://www.php.net/manual/fr/class.spldoublylinkedlist.php)),
ou les `Heaps` ([SplHeap](https://www.php.net/manual/fr/class.splheap.php),
[SplPriorityQueue](https://www.php.net/manual/fr/class.splpriorityqueue.php) ont
√©t√© abord√©es, mais on constate rapidement qu'elles pr√©sentent l'inconv√©nient majeur
d'avoir de mauvaises performances par rapport √† `array` et des nommages de m√©thode
peu intuitif.

#### PHP DS

Une alternative int√©ressante est [DS](https://www.php.net/manual/fr/book.ds.php),
qui ne pr√©sente pas de probl√®me de gestion de priorit√© et de meilleures performances.

Florian nous a pr√©sent√© notamment [DS\PriorityQueue](https://www.php.net/manual/en/class.ds-priorityqueue.php)
et [DS\Vector](https://www.php.net/manual/en/class.ds-vector), qui constitue une
alternative int√©ressante √† `array`.

#### Les iterators

Enfin, nous avons vu les iterators de la SPl avec :

* [IteratorAggregate](https://www.php.net/manual/fr/class.iteratoraggregate)
  qui permet d'appliquer un traitement √©ventuel sur le tableau
* [AppendIterator](https://www.php.net/manual/fr/class.appenditerator)
  qui permet d'ins√©rer d'autres it√©rateurs
* [IteratorIterator](https://www.php.net/manual/fr/class.iteratoriterator.php)
  qui renvoie un autre Iterator
* [InfiniteIterator](https://www.php.net/manual/fr/class.infiniteiterator.php)
  qui permet de boucler √† l'infini (pensez √† la fonction lecture en boucle de votre player audio)
* [CallbackFilterIterator](https://www.php.net/manual/fr/class.callbackfilteriterator.php)
  qui permet de filtrer les donn√©es √† l'aide d'une callback.

### Apprendre √† apprendre : petit dev deviendra grand - Aline Leroy

> Conf√©rence pr√©sent√©e par Aline Leroy

Aline Leroy nous parle ici de sa reconversion, et des diff√©rentes exp√©riences qu‚Äôelle a v√©cues au cours de son
apprentissage du code. Elle nous donne plein d‚Äôastuces et de cl√©s pour am√©liorer notre fa√ßon d‚Äôapprendre et de
travailler notre plasticit√© c√©r√©brale. Tout d‚Äôabord, il faut g√©rer son temps, alterner concentration et dispersion, et
comprendre qu‚Äôapprendre c‚Äôest cr√©er des liens et des images mentales.

Aline Leroy nous conseille de commencer par faire une introspection afin de d√©terminer quels sont nos points forts et
faibles, quels sont nos objectifs et puis pour comprendre son propre fonctionnement. Ensuite, il faut faire preuve de
curiosit√© et ne pas se limiter √† un domaine (pensez cr√©ation de lien, plus le champ est grand, plus vous allez faire
des connexions). Nous pourrons aussi choisir de travailler par d√©coupage, une partie des choses √† apprendre, nous allons
devoir travailler notre m√©moire. Il est aussi important que l‚Äôapprentissage soit une d√©marche active, prise de notes,
recherche, ne pas cat√©goriser et surtout, c'est un processus qui demande de la r√©gularit√©.

Elle insiste sur l‚Äôaspect bien-√™tre qui est tr√®s important pour apprendre, se mettre au calme, couper ses notifications
et puis on prend des pauses, car c‚Äôest l√† que tout le travail de liaison neuronale se fait. Une pause sportive et encore
plus recommand√©e, bien s√ªr ces temps de dispersion doivent √™tre sur un temps maitris√©.

### You Build It, You Run It, l‚Äôobservabilit√© pour les devs

![Smaine Milianni](../../../../images/posts/forumphp2023/you-build-it-you-run-it.jpeg)

> Conf√©rence pr√©sent√©e par [Smaine Milianni](https://twitter.com/SmaineDev), d√©veloppeur chez Yousign

L‚Äôobservabilit√© est quelque chose de tr√®s important chez Bedrock, c‚Äôest pourquoi cette conf√©rence √©tait tr√®s
int√©ressante.

Smaine a d√©coup√© sa conf√©rence en posant trois questions : pourquoi, comment et qui ?

#### Pourquoi faire de l‚Äôobservabilit√© ?

Une application va forc√©ment planter √† un moment, nous dit Smaine pour r√©pondre √† sa premi√®re question.

L‚Äôobservabilit√© permet non seulement de diminuer les risques que cela arrive, mais aussi d‚Äôanticiper les probl√®mes en
amont.

Au-del√† des plantages, l‚Äôobservabilit√© ouvre la porte √† d‚Äôautres formes d‚Äôanalyses :
* d√©tecter les probl√®mes/changements de performance
* capter les comportements inhabituels
* ou simplement s‚Äôassurer qu‚Äôun syst√®me fonctionne correctement

#### Comment fait-on ?

Habituellement, l‚Äôobservabilit√© s‚Äôappuie sur trois piliers : les logs, les m√©triques et les traces, auxquels Smaine
ajoute un quatri√®me : les alertes.

Pour r√©sumer ces diff√©rents piliers :
* les logs doivent √™tre lus, et donc √™tre disponibles dans un outil d√©di√©
* les m√©triques permettent d‚Äôobserver l‚Äô√©tat de sant√© d‚Äôune application
    * elles peuvent √™tre techniques (CPU, temps de r√©ponse d‚Äôune URL, etc)
    * ou m√©tier (nombre de ventes par jour, nombre d‚Äôinscriptions, etc)
* les traces permettent de suivre le comportement d‚Äôune application
    * par exemple pour une requ√™te HTTP, on aurait le temps pass√© dans chaque couche technique (base de donn√©es, un
      controller PHP, lecture de cache, etc)
* Et enfin, les alertes
    * elles ne doivent √™tre envoy√©es qu‚Äôen cas de probl√®me (pour √©viter de lasser les lecteurs)
    * elles peuvent se baser sur les m√©triques (m√™me m√©tier)
    * elles peuvent √™tre li√©es aux logs et aux traces pour aider √† les comprendre

Smaine nous a √©galement rapidement parl√© des post mortems, qui sont essentiels apr√®s un incident pour apprendre des
erreurs et ne pas les reproduire.

#### Qui est responsable de la mise en place ?

L'entreprise de Smaine, Yousign, a une organisation sous forme de squads.
Un squad est compos√© de plusieurs m√©tiers : dev, devops, PO, designer, chef de projet, etc.

Ils sont alors responsables √† la fois de leur p√©rim√®tre, mais aussi de son observabilit√©. En gardant cette
responsabilit√© au sein d‚Äôun squad, les √©quipes sont plus attentives et r√©actives en cas d‚Äôincident.

### Les femmes et le num√©rique

![Isabelle Collet](../../../../images/posts/forumphp2023/les-femmes-et-le-numerique.jpeg)

> Conf√©rence pr√©sent√©e par [Isabelle Collet](https://twitter.com/colletisabelle4)

Isabelle Collet est ancienne d√©veloppeuse et sociologue √©panouie comme elle le dit elle-m√™me. Ce qui lui donne mati√®re √†
nous expliquer beaucoup de choses sur ‚Äúle choix des femmes de ne pas venir dans la tech‚Äù. Et bien, oui, pourquoi
sont-elles r√©ticentes ?

Tout d‚Äôabord, Isabelle Collet nous parle de pays qui sont des contre-exemples, comme en Malaisie o√π les femmes sont la
majorit√© des postes informatiques et de d√©veloppement, elles sont aussi responsables d‚ÄôUniversit√©. Globalement, dans
certains pays d‚ÄôAsie, les femmes sont fortement repr√©sent√©es dans le secteur tertiaire, et pourquoi ?
Car ces m√©tiers sont consid√©r√©s comme des ‚Äúm√©tiers de femmes‚Äù, non salissant, pas physique et surtout possibilit√© de
t√©l√©travail ce qui leur permet de s‚Äôoccuper de leur famille.

Puis gr√¢ce √† un petit retour dans le pass√©, nous d√©couvrons que les femmes au d√©part √©taient tr√®s pr√©sentes dans
l‚Äôinformatique et plus pr√©cis√©ment dans le d√©veloppement. Les hommes √©taient charg√©s de la conception des ordinateurs,
ce qui √©tait bien vu dans la soci√©t√©, mais la programmation √©tait un poste consid√©r√© comme inf√©rieur. Ce qui va changer
cela est l‚Äôapparition du micro-ordinateur qui va inverser la tendance et les hommes vont devenir plus nombreux √† coder
et les femmes vont progressivement ‚Äúdispara√Ætre‚Äù du paysage informatique.

Pour rem√©dier √† cela, Isabelle Collet nous pr√©sente deux initiatives universitaires o√π pour r√©√©quilibrer le taux
hommes/femmes des quotas ont √©t√© impos√©s pendant une dizaine d‚Äôann√©es. Aujourd‚Äôhui l‚Äô√©quilibre de candidats se fait
naturellement.

En conclusion, les choses √©voluent si on veut bien les faire √©voluer. Il faut continuer les efforts d‚Äôinclusion et la
lutte pour que les femmes soient plus nombreuses dans la tech.

## Conclusion

Cette ann√©e, la fresque LEGO a c√©l√©br√© la diversit√© des membres de l‚ÄôAFUP et bien s√ªr le PHP.

Ce forum f√ªt l‚Äôoccasion d‚Äô√©changer avec de nombreuses personnes, de d√©couvrir des sujets aussi bien techniques que
soci√©taux. On ne peut que f√©liciter les conf√©rencier¬∑e¬∑s et les b√©n√©voles pour un Forum PHP encore tr√®s r√©ussi !

![La fresque LEGO communautaire](../../../../images/posts/forumphp2023/fresque-lego-communautaire.jpeg)
