<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.2">Jekyll</generator><link href="https://tech.bedrockstreaming.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://tech.bedrockstreaming.com/" rel="alternate" type="text/html" /><updated>2023-12-20T19:42:53+00:00</updated><id>https://tech.bedrockstreaming.com/feed.xml</id><title type="html">Bedrock Tech Blog</title><subtitle>Blog technique de Bedrock</subtitle><entry><title type="html">Bedrock aux API Days Paris (2023)</title><link href="https://tech.bedrockstreaming.com/api-days-paris-2023" rel="alternate" type="text/html" title="Bedrock aux API Days Paris (2023)" /><published>2023-12-20T00:00:00+00:00</published><updated>2023-12-20T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/api-days-paris-2023</id><content type="html" xml:base="https://tech.bedrockstreaming.com/api-days-paris-2023">&lt;p&gt;Cette ann√©e Bedrock a envoy√© 7 de ses collaborateurs et collaboratrices (i.e. nous, les auteurs de cet article) √† l‚Äô√©dition 2023 des conf√©rences ‚ÄúAPI Days‚Äù √† Paris.&lt;/p&gt;

&lt;p&gt;L‚Äô√©v√©nement a eu lieu au CNIT √† La D√©fense (juste en face du march√© de No√´l) et a dur√© 3 jours, du Mercredi 06/12/23 au Vendredi 08/12/23.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/la-defense.png&quot; alt=&quot;La D√©fense √† Paris&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En plus des 11 paires de chaussettes diff√©rentes üß¶ que nous avons r√©ussi √† d√©busquer en parlant aux diff√©rents partenaires sur place‚Ä¶ En tout, &lt;a href=&quot;https://www.apidays.global/paris/#schedule&quot;&gt;ce sont plus de 100 talks, r√©partis dans 9 salles, qui nous ont √©t√© pr√©sent√©s&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Voici, un r√©sum√© de quelques-uns des talks que nous souhaitions mentionner sur ce blog üëá&lt;/p&gt;

&lt;h2 id=&quot;making-the-most-of-your-openapi-spec&quot;&gt;Making the Most of Your OpenAPI Spec&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Alexander Broadbent (Principal Engineer - SAPI)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Cette conf√©rence expliquait, en d√©tail, une technique ‚Äúdesign-first‚Äù permettant d‚Äô√©radiquer les erreurs de ‚Äúd√©synchronisation‚Äù entre la documentation d‚Äôune API et son comportement r√©el, tout en g√©n√©rant une partie du code.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/what-we-are-doing.png&quot; alt=&quot;What we are doing&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/how-we-are-winning.png&quot; alt=&quot;How we are winning&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cette technique peut se r√©sumer en quelques points :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;la documentation OpenAPI est la source de v√©rit√© et d√©crit l‚Äôint√©gralit√© des endpoints de l‚Äôapplication (celle-ci peut √™tre fragment√©e en plusieurs fichiers)&lt;/li&gt;
  &lt;li&gt;un outil (&lt;a href=&quot;https://github.com/Redocly/redoc&quot;&gt;redocly&lt;/a&gt;) regroupe tous les documents OpenAPI dans un m√™me fichier&lt;/li&gt;
  &lt;li&gt;un outil (&lt;a href=&quot;https://github.com/drwpow/openapi-typescript&quot;&gt;openapi-typescript&lt;/a&gt;) g√©n√®re le typage Typescript correspondant au fichier OpenAPI&lt;/li&gt;
  &lt;li&gt;un outil (&lt;a href=&quot;https://github.com/seriousme/fastify-openapi-glue&quot;&gt;fastify-openapi-glue&lt;/a&gt;) applique le typage Typescript g√©n√©r√© sur le code des diff√©rents endpoints de l‚ÄôAPI &lt;a href=&quot;https://fastify.dev/&quot;&gt;Fastify&lt;/a&gt; afin de s‚Äôassurer que le code produit par les d√©veloppeurs est conforme √† la documentation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Et pour les d√©tails d‚Äôimpl√©mentation, le repository GitHub de la d√©mo d‚ÄôAlexander est disponible ici : &lt;a href=&quot;https://github.com/AlexBroadbent/openapi-demo&quot;&gt;https://github.com/AlexBroadbent/openapi-demo&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;forget-typescript-choose-rust-to-build-robust-fast-and-cheap-apis&quot;&gt;Forget TypeScript, Choose Rust to build Robust, Fast and Cheap APIs&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Zacaria Chtatar (Backend Software Engineer - HaveSomeCode)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Cette conf√©rence au titre subversif expliquait pourquoi Zacaria, d√©veloppeur Typescript/NodeJS √† ClubMed, en est arriv√© √† s‚Äôint√©resser tr√®s fortement au langage de programmation Rust‚Ä¶ Au point d‚Äôen faire la promotion, en anglais (respect), aux API Days.&lt;/p&gt;

&lt;p&gt;La premi√®re partie de sa conf√©rence parlait du langage de programmation Typescript, en dressant une liste de ses qualit√©s (fullstack, tr√®s largement d√©ploy√© en entreprise, √©cosyst√®me riche, ‚Ä¶) et de ses d√©fauts (gestion d‚Äôerreur optionnelle, typage √©ph√©m√®re, runtime principal peu performant, ‚Ä¶). Cette premi√®re partie s‚Äôest achev√©e par un message clair : ‚ÄúTypescript is not enough‚Äù.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/typescript-is-not-enough.png&quot; alt=&quot;Typescript is not enough&quot; /&gt;&lt;/p&gt;

&lt;p&gt;La suite et fin de la pr√©sentation, quant √† elle, √©tait une introduction √† Rust.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/introducing-rust.png&quot; alt=&quot;Introducing Rust&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bien que nous √©tions surpris de voir que &lt;a href=&quot;https://survey.stackoverflow.co/2023/#section-admired-and-desired-programming-scripting-and-markup-languages&quot;&gt;le langage de programmation pr√©f√©r√© des d√©veloppeurs&lt;/a&gt; de ces 8 derni√®res ann√©es, et sur lequel &lt;a href=&quot;https://foundation.rust-lang.org/members/&quot;&gt;les plus grosses entreprises tech du monde misent aujourd‚Äôhui&lt;/a&gt;, avait encore besoin d‚Äô√™tre mis en avant en 2023‚Ä¶ Zacaria a effectivement eu raison d‚Äôen remettre une couche, car encore trop peu d‚Äôentreprises fran√ßaises ont pris conscience des avantages qu‚Äôoffre Rust.&lt;/p&gt;

&lt;p&gt;Cependant, cette 2√®me partie de conf√©rence avait un go√ªt de d√©j√† vu pour nous car un de nos collaborateurs a d√©j√† donn√© le m√™me genre de conf√©rence √† Bedrock durant &lt;a href=&quot;https://tech.bedrockstreaming.com/lft/&quot;&gt;nos LFT&lt;/a&gt; 2 ann√©es auparavant (en partant de PHP plut√¥t que de Typescript)‚Ä¶ Ceci √©tant, gr√¢ce √† nos 2 ans d‚Äôexp√©rience de Rust en production et pour les raisons √©voqu√©es par Zacaria durant son talk, Bedrock est en mesure de t√©moigner sa satisfaction d‚Äôavoir pris le temps de r√©√©crire certaines des API les plus critiques de Bedrock en Rust. Et nous esp√©rons que de nombreuses entreprises oseront suivre notre exemple, afin de permettre aux d√©veloppeurs soucieux de la qualit√© de leur travail comme Zacaria, de disposer de ce merveilleux langage de programmation.&lt;/p&gt;

&lt;p&gt;Et si vous ne comprenez toujours pas l‚Äôint√©r√™t de Rust, &lt;a href=&quot;https://www.youtube.com/watch?v=eSo3e3ugn5g&quot;&gt;le talk de Zacaria est disponible en replay sur Youtube&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;real-life-rest-api-versioning-strategies-and-best-practices&quot;&gt;Real-Life REST API Versioning: Strategies and Best Practices&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Alexandre Touret (Senior Software Architect - Worldline)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;La gestion des versions dans le contexte des API au sein d‚Äôune entreprise peut souvent s‚Äôav√©rer √™tre un d√©fi complexe et d√©licat. En effet, les interfaces de programmation applicative (API) constituent le c≈ìur des interactions entre diff√©rents services et applications au sein d‚Äôun √©cosyst√®me num√©rique. La n√©cessit√© de versionner ces API devient imp√©rative pour garantir une √©volution harmonieuse tout en pr√©servant la compatibilit√© avec les syst√®mes existants.&lt;/p&gt;

&lt;p&gt;Worldline fait partie des entreprises avec une architecture technique complexe, exposant √† des clients finaux un mod√®le m√©tier en constante √©volution.
Ce probl√®me fait tr√®s fortement √©cho avec le business model de Bedrock.&lt;/p&gt;

&lt;p&gt;Dans sa conf√©rence, Alexandre a pr√©sent√© son retour d‚Äôexp√©rience sur comment versionner une API. Et comment l‚Äôexercice est loin d‚Äô√™tre un long fleuve tranquille. Voici les points cl√©s que nous avons retenus :&lt;/p&gt;

&lt;h4 id=&quot;toutes-les-apis-ne-n√©cessitent-pas-d√™tre-versionn√©es&quot;&gt;Toutes les APIs ne n√©cessitent pas d‚Äô√™tre versionn√©es&lt;/h4&gt;

&lt;p&gt;Le versioning c‚Äôest compliqu√©. C‚Äôest un fait. Autant l‚Äôappliquer sur des APIs o√π ce principe est vraiment utile. Il est effectivement peut-√™tre moins utile de versionner une API interne, non expos√©e sur internet ou avec un p√©rim√®tre fonctionnel tr√®s limit√© ou stable.
Voici les questions propos√©es par Alexandre qui peuvent nous aider dans notre d√©cision : ai-je besoin de versionner ? Combien de versions dois-je g√©rer en parall√®le ? Est-ce que ma plateforme est compatible ? Quels sont les impacts sur ma configuration, mon mod√®le de donn√©es, &lt;strong&gt;mon syst√®me d‚Äôauthentification&lt;/strong&gt; (Alexandre a bien insist√© sur ce point. Il ne faut pas n√©gliger l‚Äôauthentification dans la probl√©matique du versioning) ?&lt;/p&gt;

&lt;h4 id=&quot;le-versioning-sapplique-aussi-sur-une-architecture-en-micro-service&quot;&gt;Le versioning s‚Äôapplique aussi sur une architecture en micro service&lt;/h4&gt;

&lt;p&gt;On a tendance √† croire que seules ‚Äúles grosses API‚Äù sont concern√©es par le versioning mais Alexandre nous a montr√© qu‚Äôil n‚Äôen est rien. Un micro service, aussi micro (voir macro) qu‚Äôil soit, g√®re √† lui tout seul un p√©rim√®tre fonctionnel. Il est donc l√©gitime qu‚Äôil puisse √©voluer au fil des versions.&lt;/p&gt;

&lt;h4 id=&quot;comment-g√©rer-le-versioning&quot;&gt;Comment g√©rer le versioning&lt;/h4&gt;

&lt;p&gt;Plusieurs solutions, directement dans l‚ÄôURL, via header (plus facile avec une API existante)
Alexandre a fortement d√©conseill√© d‚Äôutiliser le versioning par content type. √Ä la fois peu lisible et difficilement maintenable.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/api-versioning.png&quot; alt=&quot;Comment g√©rer le versionning&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;limpact-du-versioning&quot;&gt;L‚Äôimpact du versioning&lt;/h4&gt;

&lt;p&gt;Versionner une API change en profondeur nos mani√®res de travailler. Et ce √† plusieurs niveaux :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Le code source, la technique. Il est ind√©niable que le code source ainsi que l‚Äôarchitecture technique de vos projets s‚Äôen verra impact√©s. L‚Äôimpact ne s‚Äôarr√™te pas au code en lui-m√™me, mais sur tout ce qui gravite autour. Nos bases de donn√©es, nos scripts, nos configurations serveur ou nos images docker par exemple&lt;/li&gt;
  &lt;li&gt;Le produit. Nos API exposent le m√©tier de notre produit. L‚Äôimpact n‚Äôest donc pas que technique, mais aussi fonctionnel / produit. Une √©volution de version technique entraine des breaking change et inversement. Il est donc tr√®s important, les √©quipes et produit travaillent de pair pour √©voluer ensemble&lt;/li&gt;
  &lt;li&gt;La livraison. Avoir plusieurs versions d‚Äôun API complexifie la mise en production de cette derni√®re. Il faudra tr√®s certainement revoir nos pipelines d‚Äôint√©gration et de d√©ploiement. Ce point est, lui aussi, √† ne pas n√©gliger et n√©cessitera un travail commun au sein des √©quipes techniques&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;lobservabilit√©&quot;&gt;L‚Äôobservabilit√©&lt;/h4&gt;

&lt;p&gt;Alexandre nous a aussi parl√© de l‚Äôimportance d‚Äôavoir de la visibilit√© sur ce qu‚Äôil se passe en production, et tout particuli√®rement √† la maille des diff√©rentes versions de nos API.&lt;/p&gt;

&lt;p&gt;L‚Äôobservabilit√© est quelque chose de plus en plus r√©pandu dans notre m√©tier. Mais le versioning porte le concept encore un cran au-dessus.&lt;/p&gt;

&lt;p&gt;Il est primordial d‚Äô√™tre capable d‚Äôassurer une bonne observabilit√© de nos APIs √† la maille :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;De la version&lt;/li&gt;
  &lt;li&gt;Des clients (via des API Keys d√©di√©es)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Une bonne observabilit√© est la cl√© pour d√©finir une bonne strat√©gie et √™tre capable d‚Äôanticiper le d√© commissionnement de versions obsol√®tes. Ce point est selon moi tr√®s important.&lt;/p&gt;

&lt;p&gt;Il est tr√®s (tr√®s) compliqu√© de maintenir un nombre trop √©lev√© de versions pour une m√™me API. Sans parler d‚Äôobsolescence programm√©e, il faut trouver le bon niveau de maintenance pour √©viter de tomber dans le pi√®ge de la dette technique. Pas facile comme sujet !&lt;/p&gt;

&lt;p&gt;Pour finir, je tiens √† remercier Alexandre pour sa conf√©rence vraiment int√©ressante. Bourr√©e d‚Äôexemples concrets. J‚Äôai vraiment senti une vraie ma√Ætrise du sujet. Bravo ! Cette conf√©rence est mon coup de c≈ìur de l‚ÄôAPI Days Paris 2023.&lt;/p&gt;

&lt;h2 id=&quot;our-ongoing-journey-from-rest-to-graphql-on-android&quot;&gt;Our Ongoing Journey From REST To GraphQL On Android&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Julien Salvi (Lead Android Engineer - Aircall)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Durant cette pr√©sentation, Julien Salvi, Lead Android Engineer chez Aircall nous fait un retour d‚Äôexp√©rience sur la migration de l‚Äô√©quipe Android d‚Äôune API REST √† une API GraphQL. Ce choix a √©t√© motiv√© par plusieurs raisons :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Une probl√©matique globale sur le scaling de leur API REST&lt;/li&gt;
  &lt;li&gt;L‚Äôefficacit√© et l‚Äôagr√©gation des donn√©es des API GraphQL&lt;/li&gt;
  &lt;li&gt;La recherche d‚Äôune alternative Serverless&lt;/li&gt;
  &lt;li&gt;L‚Äôobjectif de limiter les perturbations pour les clients&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Leur aventure d√©bute mi 2020 et est toujours en cours.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/graphql-api-journey.png&quot; alt=&quot;GraphQL API journey&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour r√©pondre √† ces demandes, les √©quipes ont dirig√© leur choix vers GraphQL pour cr√©er leur nouvelles API, qui a plusieurs avantages selon Julien notamment:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;La possibilit√© pour les clients de r√©cup√©rer seulement les donn√©es dont ils ont besoin, cela √©vite l‚Äôover-fetching et l‚Äôunder-fetching&lt;/li&gt;
  &lt;li&gt;Les clients peuvent r√©cup√©rer de multiples ressources dans une seule requ√™te&lt;/li&gt;
  &lt;li&gt;GraphQL propose un moyen d‚Äô√©tablir une connection constante entre le client et le serveur, ce qui augmente la scalabilit√© en temps r√©el&lt;/li&gt;
  &lt;li&gt;Le fort typage de GraphQL permet une communication claire, r√©duisant ainsi les erreurs&lt;/li&gt;
  &lt;li&gt;L‚Äôam√©lioration de la performance globale gr√¢ce au batching des requ√™tes&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;L‚Äô√©quipe Android utilise le service &lt;a href=&quot;https://aws.amazon.com/fr/appsync/&quot;&gt;AppSync d‚ÄôAWS&lt;/a&gt;, facilitant le filtrage, permetttant de faire du realtime, assurer une scalabilit√© et une bonne int√©gration avec ElasticSearch et DynamoDB.&lt;/p&gt;

&lt;p&gt;Apr√®s les premi√®res migrations vers les API GraphQL, le conf√©rencier insiste sur l‚Äôimportance du monitoring, qui chez eux est pr√©sent que ce soit pour les queries ou les mutations.&lt;/p&gt;

&lt;p&gt;Voici les points √† retenir de leur exp√©rience&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/key-takeaways.png&quot; alt=&quot;Key takeaways&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Pour finir, revenons sur un de leur point √† surveiller, Julien nous √©voque l‚Äôimportance de la collaboration entre les √©quipes front et backend qui est √©galement selon nous tr√®s importante, notamment pour optimiser l‚Äôefficacit√© des API. On peut citer comme actions par exemple, se mettre d‚Äôaccord sur les meilleurs timeout √† adopter sur les API ou aussi cr√©er les sch√©mas OpenApi ensemble.&lt;/p&gt;

&lt;h2 id=&quot;why-api-contracts-matters&quot;&gt;Why API Contracts matters&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par St√©ve Sfartz (Principal Architect - Cisco)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Cette pr√©sentation par le Principal Architect de Cisco nous explique pourquoi, dans une strat√©gie API First, le besoin d‚Äôavoir des contrats ainsi qu‚Äôun cycle de vie de l‚ÄôAPI est primordial pour la coh√©rence du syst√®me.&lt;/p&gt;

&lt;p&gt;Ils formalisent leur contrats d‚ÄôAPI via OpenAPI Sp√©cification, un standard pour les contrats d‚ÄôAPI REST, en compl√©ment de documents OpenAPI, pour former la d√©finition de l‚ÄôAPI. A c√¥t√© de cette d√©finition, on trouve la gestion du cycle de vie (lifecycle) de l‚ÄôAPI, pour informer des deprecated, du changelog et des Breaking Changes lors des versions majeures (semantic versionning).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/api-contract-definition-and-lifecycle.png&quot; alt=&quot;Definition and Lifecycle for an API&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lors de la mise en place de ces contrats pour les API √† cisco, une qualit√© (qu‚Äôils appellent aussi Health Contract) y a √©t√© associ√©e pour avoir une vue d‚Äôensemble de la documentation des API. Ayant environ 2000 API, cette qualit√© ne peut pas √™tre √©valu√©e √† la main au cas par cas, et passe donc par des outils d‚Äôanalyse tels qu‚Äôun linter Spectral, pour √©viter les erreurs et automatiser la g√©n√©ration de ce statut.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/api-contract-quality.png&quot; alt=&quot;API Contract Quality&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vient ensuite la gestion du drift entre la documentation et le code (par exemple si une annotation est oubli√©e, une route non document√©e) : la v√©rification du drift doit √™tre faite lors de la CI/CD.&lt;/p&gt;

&lt;p&gt;La conf√©rence se conclut sur une question simple : ‚ÄúQuelle est la source de v√©rit√© pour vos API ?‚Äù. La r√©ponse est bien √©videmment le code, mais une documentation g√©n√©r√©e automatiquement permet justement de s‚Äôen rapprocher grandement. A Bedrock, nos API GraphQL ont leur documentation (sch√©ma) g√©n√©r√© automatiquement √† partir du code lors du merge d‚Äôune PR, ce qui permet d‚Äô√©viter les oublis de mise √† jour.&lt;/p&gt;

&lt;h2 id=&quot;lets-bring-science-into-api-docs&quot;&gt;Let‚Äôs bring science into API docs&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Lana Novikova (Technical Writer - JetBrains)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Au cours de cette conf√©rence, Lana Novikova explore comment fusionner les principes scientifiques avec une communication technique efficace dans la documentation des API. 
Elle partage √©galement ses connaissances sur la fa√ßon dont les d√©veloppeurs et d√©veloppeuses consomment l‚Äôinformation en ligne, en mettant en lumi√®re les liens avec diff√©rents styles cognitifs, le tout appuy√© par des articles scientifiques. Elle explique de mani√®re concr√®te comment ces principes peuvent √™tre appliqu√©s dans la documentation des API et comment ils peuvent contribuer √† am√©liorer l‚Äôexp√©rience des d√©veloppeurs et d√©veloppeuses.
&lt;a href=&quot;https://www.youtube.com/watch?v=9SdGWU867bs&quot;&gt;Sa conf√©rence est une extension d‚Äôun pr√©c√©dent talk qu‚Äôelle a donn√© en 2022 √† la ‚ÄúWrite The Docs Australia‚Äù&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;La premi√®re √©tude que nous pr√©sente Lana s‚Äôintitule &lt;a href=&quot;https://www.cs.mcgill.ca/~martin/papers/tse2013a.pdf&quot;&gt;‚ÄúPatterns of Knowledge in API Reference Documentation‚Äù&lt;/a&gt;. 
Elle parle de la nature et de l‚Äôorganisation des connaissances contenues dans la documentation de r√©f√©rence de centaines d‚ÄôAPI au sein de deux plateformes technologiques : Java SDK 6 et .NET 4.0. L‚Äô√©tude a, entre autres, consist√© √† √©laborer une taxonomie des types de connaissances et a pu dresser la liste de 12 types de connaissances distinctes dans la documentation de l‚ÄôAPI :&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/taxonomy-of-knowledge-types.png&quot; alt=&quot;Taxonomy of Knowledge Types&quot; /&gt;&lt;/p&gt;

&lt;p&gt;√Ä travers cette √©tude, nous pouvons donc √©valuer le contenu de la documentation de notre API en fonction des types de connaissances et ainsi d√©velopper des mod√®les de documentation adapt√©s aux connaissances commun√©ment associ√©es aux diff√©rents types de composants de l‚Äôapi. De plus, aujourd‚Äôhui, des projets comme &lt;a href=&quot;https://thegooddocsproject.dev/&quot;&gt;the good docs project&lt;/a&gt; existent et proposent des templates de documentation bas√©s sur ces donn√©es scientifiques.&lt;/p&gt;

&lt;p&gt;La deuxi√®me √©tude expos√©e dans cette conf√©rence a comme titre &lt;a href=&quot;http://sigdoc.acm.org/wp-content/uploads/2019/01/CDQ18002_Meng_Steinhardt_Schubert.pdf&quot;&gt;‚ÄúHow Developers Use API Documentation: An Observation Study‚Äù&lt;/a&gt;. Sa m√©thodologie consiste √† l‚Äôobservation active, via des screencasts et des protocoles verbaux, des activit√©s des personnes participantes pendant le test. Les chercheurs et chercheuses ont √©valu√© le taux de r√©ussite, le temps pass√© sur les t√¢ches et l‚Äôutilisation de la documentation et des cat√©gories de contenu. L‚Äôobjectif principal est d‚Äôobserver comment les d√©veloppeurs et d√©veloppeuses abordent les t√¢ches avec une API qu‚Äôelles ne connaissent pas. Il s‚Äôagit √©galement d‚Äôanalyser comment les d√©veloppeurs et d√©veloppeuses utilisent les ressources d‚Äôinformation propos√©es par la documentation de l‚ÄôAPI. Cela permet de caract√©riser les strat√©gies adopt√©es par les d√©veloppeurs et d√©veloppeuses lorsqu‚Äôelles commencent √† travailler avec une nouvelle API. La conclusion que Lana nous partage est qu‚Äôen moyenne, les personnes participantes ont utilis√© la documentation de l‚ÄôAPI environ 49 % du temps (Min : 31 %, Max : 68 %). La cat√©gorie de contenu √† laquelle il est fait r√©f√©rence le plus souvent est ‚ÄúAPI reference‚Äù, suivie de ‚ÄúRecipes page‚Äù.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/content-categories-of-the-api-documentation.png&quot; alt=&quot;Content categories of the API documentation used for the test&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/proportion-of-time-spent-on-individual-content-categories.png&quot; alt=&quot;Proportion of time spent on individual content categories&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Il se d√©gage que le temps que les personnes participantes consacrent aux diff√©rentes cat√©gories de contenu varie consid√©rablement d‚Äôune personne √† l‚Äôautre. Sur la base de ces donn√©es, les chercheurs et chercheuses ont d√©fini trois types de personnages de d√©veloppeurs logiciels √† la recherche d‚Äôinformations ainsi que leurs approches lorsqu‚Äôils op√®rent celles-ci: Systematic learners, Opportunistic learners et Pragmatic learners. Pour les personnes curieuses d‚Äôapprofondir le sujet, ces personae sont bas√©s sur une autre √©tude intitul√©e &lt;a href=&quot;https://www.researchgate.net/publication/30815675_What_is_an_End_User_Software_Engineer&quot;&gt;‚ÄúWhat is an end user software engineer?‚Äù&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Lana Novikova conclut en mettant l‚Äôaccent sur le fait qu‚Äôil faut respecter les diff√©rentes strat√©gies adopt√©es par les d√©veloppeurs et les d√©veloppeuses lorsqu‚Äôelles abordent une nouvelle API et nous propose d‚Äôappliquer ces conseils :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Pour les ‚Äúopportunistic learners‚Äù, donner des exemples de code complets et exhaustifs en donnant la possibilit√© de masquer tout le reste et de relier le texte au code.&lt;/li&gt;
  &lt;li&gt;Pour les ‚Äúsystematic learners‚Äù, fournir des informations importantes de mani√®re redondante et donner des connaissances de base pertinentes.&lt;/li&gt;
  &lt;li&gt;Pour les ‚Äúpragmatic learners‚Äù (et les autres), donner un moyen technique pour commencer √† utiliser une API.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Je tiens personnellement √† souligner qu‚Äôil est rare d‚Äôassister √† une conf√©rence aussi compl√®te se basant sur autant de donn√©es scientifiques. Je ressors de cette conf√©rence agr√©ablement surpris de la qualit√© de tout ce qui a √©t√© propos√© et des ressources mises √† disposition. Je vous laisse avec &lt;a href=&quot;https://speakerdeck.com/lananovikova10/lets-bring-science-into-api-docs-c9bd5a57-df28-4fa3-9388-d2d9d9a044bd&quot;&gt;un lien contenant toutes les slides de la pr√©sentation de Lana Novikova&lt;/a&gt; qui expliquera bien mieux le propos que mon r√©sum√©. Bravo √† elle et √† son travail, en esp√©rant voir de plus en plus de conf√©rences de ce genre √† l‚Äôavenir.&lt;/p&gt;

&lt;h2 id=&quot;le-mot-de-la-fin&quot;&gt;Le mot de la fin&lt;/h2&gt;

&lt;p&gt;Si on vous a donn√© envie d‚Äôen savoir plus :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;le &lt;a href=&quot;https://www.apidays.global/paris/&quot;&gt;site officiel de la conf√©rence&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;la majorit√© des &lt;a href=&quot;https://www.youtube.com/watch?v=NdlhxIVlSEM&amp;amp;list=PLmEaqnTJ40OryW56Qo3c-C7hXcaR89xii&quot;&gt;talks sont disponibles sur Youtube&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;certains speakers ont mis √† disposition &lt;a href=&quot;https://fr.slideshare.net/APIdays_official/presentations&quot;&gt;les slides de leur talk&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Bonnes f√™tes de fin d‚Äôann√©e !&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/api-days-paris-2023/team.jpg&quot; alt=&quot;Team API Days Paris 2023&quot; /&gt;&lt;/p&gt;</content><author><name>[&quot;g_bouyge&quot;, &quot;j_hardeman&quot;, &quot;k_phan&quot;, &quot;n_alscher&quot;, &quot;o_thebault&quot;, &quot;o_weber&quot;, &quot;t_geindre&quot;]</name></author><category term="conference" /><category term="paris" /><category term="tech" /><category term="api" /><category term="eda" /><summary type="html">Cette ann√©e Bedrock a envoy√© 7 de ses collaborateurs et collaboratrices (i.e. nous, les auteurs de cet article) √† l‚Äô√©dition 2023 des conf√©rences ‚ÄúAPI Days‚Äù √† Paris.</summary></entry><entry><title type="html">Android 14 is out</title><link href="https://tech.bedrockstreaming.com/2023/12/05/android-14.html" rel="alternate" type="text/html" title="Android 14 is out" /><published>2023-12-05T00:00:00+00:00</published><updated>2023-12-05T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/2023/12/05/android-14</id><content type="html" xml:base="https://tech.bedrockstreaming.com/2023/12/05/android-14.html">&lt;p&gt;Here‚Äôs what it means for users and developers.&lt;/p&gt;

&lt;p&gt;With each new OS version, new things, upgrades, deprecations and changes are introduced, affecting the way we use and develop our apps.
Google keeps going in the direction of more privacy, more accessibility and more control over what the apps can do to maximize security and integrity.
Android 14 is no exception and here‚Äôs what I compiled on different topics that I will try to vulgarize to keep everyone on board.&lt;/p&gt;

&lt;h3 id=&quot;technical&quot;&gt;Technical&lt;/h3&gt;

&lt;p&gt;Technical changes build over features and APIs already introduced in previous versions, mostly Android 12 and 13.
They tend to modernize tools by catching up with some Java features and semantics, helping manufacturers and improving the developers‚Äô IDE to embrace those changes.
Due to the nature of the changes, this is the topic that has to remain‚Ä¶technical, sorry for that.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Mobile screens are getting bigger with more ratios to support, we‚Äôre moving further and further away from the binary world of phone vs tablet. To ensure the best experience on this wide range of devices, Android 14 introduces the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Large Screen Compatibility Mode&lt;/code&gt; to help manufacturers improve the experience on their devices.&lt;/li&gt;
  &lt;li&gt;Updates to OpenJDK17 may require a bit of attention from apps using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Regex&lt;/code&gt; that are not close enough to openJDK‚Äôs new semantics, throwing exceptions when confronted to an invalid groupe reference.&lt;/li&gt;
  &lt;li&gt;Generating a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UUID&lt;/code&gt; from a string sees the validation become stricter and will now lead to exceptions due to deserialization issues. More than ever, it‚Äôs time to unit test UUID generation.&lt;/li&gt;
  &lt;li&gt;A bit of additional ruling may be needed to fix Proguard issues when shrinking / obfuscating code involving the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClassValue&lt;/code&gt; class coming with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;API34&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;The new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Back APIs&lt;/code&gt; are now strengthened by built-in animations and support for custom ones.&lt;/li&gt;
  &lt;li&gt;Making the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ForegroundService&lt;/code&gt; type explicit is now mandatory, if the implementation was already properly done back in the Android 10 days when it was introduced, congratulations, nothing to do here.&lt;/li&gt;
  &lt;li&gt;Foreground services are also encouraged to be migrated to user-initiated jobs. A new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RUN_USER_INITIATED_JOBS&lt;/code&gt; permission is introduced and new methods on the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JobInfo&lt;/code&gt; builder allow to set the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;userInitiated()&lt;/code&gt; status along with the estimated amount of bytes the job will expect from the network. Scheduling the job is now done with the app foregrounded and the notification icon system remains the same so the user knows something is going on even if the app is backgrounded post launch.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;battery-and-performance&quot;&gt;Battery and performance&lt;/h3&gt;

&lt;p&gt;Without a single ounce of surprise, Google continues its effort to improve battery life and takes steps towards sanctioning bad actors that publish battery-draining or unstable apps.
Today, not crashing is no longer enough, developers should take steps to push their app to their full potential and that means power management and performance monitoring.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Bad behaviours like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ANRs (screen freezes)&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;background crashes&lt;/code&gt; now more aggressively flag the guilty apps and put them at the bottom of the priority list where apps are fighting for resources, meaning they‚Äôll also be the first to go if the system needs some. No more filtering out &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ANRs&lt;/code&gt; and non-fatal crashes on Crashlytics, everything matters now.&lt;/li&gt;
  &lt;li&gt;While on the subject of fighting for resources, let‚Äôs also note that now, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;context-registered broadcasts&lt;/code&gt; are now queued when the app is backgrounded and the system will deliver them when the app is awake or system conditions allow it.&lt;/li&gt;
  &lt;li&gt;Another change to the cached state (aka when the app is backgrounded) impacts background tasks that can no longer be triggered unless one of the app components is awake. This change pushes devs to use framework‚Äôs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JobScheduler&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WorkManager&lt;/code&gt; more as they aren‚Äôt impacted by this change.&lt;/li&gt;
  &lt;li&gt;Still with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Jobscheduler&lt;/code&gt;, jobs don‚Äôt just fail silently anymore if they don‚Äôt respond in time but trigger an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ANR&lt;/code&gt;, it is advised to move to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WorkManager&lt;/code&gt; with its out of the box async support.&lt;/li&gt;
  &lt;li&gt;If a job requires a special network state to be triggered, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ACCESS_NETWORK_STATE&lt;/code&gt; permission is now mandatory. Without it, a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SecurityException&lt;/code&gt; will be raised.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Intents&lt;/code&gt; keep getting more and more headache prone as the implicit and pending intents now can only be delivered to exported components. If you need to reach an unexported component, explicit intent is your go-to solution. Note that mutable pending intents now need to specify a component or it will throw an exception.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;notifications&quot;&gt;Notifications&lt;/h3&gt;

&lt;p&gt;Finding the right balance between informative presence and in-your-face nuisance has always been a challenge for notifications and it seems Google keeps pushing to make them less invasive and easier for the user to dismiss or delay them.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fullscreen Intent&lt;/code&gt; notifications that we see when our clock rings or when we receive a phone call are luckily already rarely used.
They are now more restricted and available only to apps declaring &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Call&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Alarm&lt;/code&gt; features, meaning we shouldn‚Äôt see bad actors abusing this feature that would allow them to bypass the lock screen amongst other things.&lt;/li&gt;
  &lt;li&gt;Non-dismissible &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foreground notifications&lt;/code&gt; are now dismissible in some cases but will remain non-dismissible
    &lt;ul&gt;
      &lt;li&gt;on top of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Lock Screen&lt;/code&gt; to prevent it from being swiped by anyone accessing a device behind the owner‚Äôs back.&lt;/li&gt;
      &lt;li&gt;from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Clear all&lt;/code&gt; feature to prevent misclicks.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;privacy-and-security&quot;&gt;Privacy and security&lt;/h3&gt;

&lt;p&gt;This is, once again without surprise, where a lot of the changes happen and it is aligned with Google‚Äôs vision and goals when it comes to give users back the control of their data and permissions.
Some of them seem so obvious that it‚Äôs surprising to see them in action only now. Maybe the EU pressure with GDPR starts to pay off? Maybe‚Ä¶&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Android 14 introduces new places where the data sharing purposes are displayed. Until now, we could only check them from the PlayStore app page. 
Now, it will also be displayed in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;runtime permission popups&lt;/code&gt;, starting with those related to location to remind why the data is necessary and with whom it will be shared.&lt;/li&gt;
  &lt;li&gt;It will now be impossible to install apps that don‚Äôt target at least the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;API 23&lt;/code&gt; to prevent bad actors from exploiting security breaches discovered inside older Android versions.
Be aware that installed apps won‚Äôt be removed and the system won‚Äôt warn you when starting one of those apps, maybe a new feature for Android 15?&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dynamic Code Loading&lt;/code&gt; now requires to flag the file as read-only to avoid any tampering or code injection. In any case, DCL should be avoided when possible and only trusted files should obviously be loaded this way.&lt;/li&gt;
  &lt;li&gt;When saving a file inside the app storage, the system attributes to the file an owner id, this id being the app package name that saved it. 
This feature allows apps to know which file they can open without requesting the external read permission. The issue was that by querying this id, other apps could access the owner ids that weren‚Äôt them and deducting the owner‚Äôs installed apps list. 
To fix this, the name is now redacted, increasing again a little bit the user data protection, the list of the installed apps being considered a sensitive data by Google.&lt;/li&gt;
  &lt;li&gt;If an app features &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;screen&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;audio recording&lt;/code&gt;, it is now required to be granted the user consent to do so before each session start and therefore be able to handle permission denied scenarios.&lt;/li&gt;
  &lt;li&gt;Zip files are also impacted as a fixed vulnerability with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;path transversal reading&lt;/code&gt; now triggers an exception if some characters are found inside it. (Contains &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;..&lt;/code&gt; Or starts with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Even though already required, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BLUETOOTH_CONNECT&lt;/code&gt; permission was not yet enforced to access the profile state, it is now the case.&lt;/li&gt;
  &lt;li&gt;Users are no more required to grant access to all &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;images&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;videos&lt;/code&gt; to share or display a single media, Android 14 now upgrades the permission popup with an option to select only the media the app is allowed to access.&lt;/li&gt;
  &lt;li&gt;Apps can now react to a user &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;screenshot&lt;/code&gt; event, they can‚Äôt manipulate the content but developers can now add a callback bound to the activity lifecycle. 
Sensitive screens should still be protected with the secure flag.&lt;/li&gt;
  &lt;li&gt;Starting activities from the background with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pending intent&lt;/code&gt; or through another app in the foreground now requires the app to opt-in to this feature inside said activity and is no longer a default behaviour.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;accessibility&quot;&gt;Accessibility&lt;/h3&gt;

&lt;p&gt;It is no secret that mobile devices are now owned by more and more people every year, which includes people with a range of disabilities or personalities that may make an app usage more challenging.
Android 14 helps them with new and upgraded features to ease their journey with a mobile device.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A step is taken towards low-vision users‚Äô direction, the changes and impacts to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font scaling&lt;/code&gt; should be negligible to developers already properly using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SP&lt;/code&gt; as their size units but a full testing pass with the scaling enabled should be scheduled to be safe and tweak improvable screens.&lt;/li&gt;
  &lt;li&gt;New tools inside Android studio are added to help developers handling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;per-app language&lt;/code&gt; more efficiently and easily.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Grammatical Inflection API&lt;/code&gt; is introduced, offering developers working on apps with gendered languages new tools. It adds a layer of complexity to the strings files by having three gender-files by gendered language. In those files are added only the strings affected by gender inflections like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vous √™tes d√©connect√©&lt;/code&gt; for masculine, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vous √™tes d√©connect√©e&lt;/code&gt; for feminine or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;La d√©connection est effective&lt;/code&gt; for neutral in french. More work for developers and translators but an overall better experience for users.&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;All in all, Android 14 is an update faithful to the Google roadmap. 
Users today are very different than users 10 years ago. They care more about their data and their privacy; the Mobile ecosystem and business is also a lot more professional.
It‚Äôs important for us developers to be aware of those changes in order to continuously improve the experience, be it related to our core business or simply to keep the user engaged in a safe environment.&lt;/p&gt;

&lt;p&gt;When this article is released, Android 14 should be freshly out and developer teams hands deep in the migration tasks.
I hope you enjoyed the information and see you soon for more Android related articles!&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.android.com/about/versions/14/behavior-changes-all&quot;&gt;Changes potentially affecting all apps&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.android.com/about/versions/14/behavior-changes-14&quot;&gt;Changes affecting apps targetting Android 14&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.android.com/about/versions/14/features&quot;&gt;New features introduced by Android 14&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.android.com/sdk/api_diff/34/changes&quot;&gt;APIs changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://developer.android.com/about/versions/14/summary&quot;&gt;Overview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;c_goffoy&quot;]</name></author><category term="android" /><category term="mobile" /><category term="google" /><category term="14" /><summary type="html">Here‚Äôs what it means for users and developers.</summary></entry><entry><title type="html">Comment faire de votre vie un BlackFriday permanent #LFT 24/11/23</title><link href="https://tech.bedrockstreaming.com/comment-faire-de-votre-vie-un-blackfriday-permanent" rel="alternate" type="text/html" title="Comment faire de votre vie un BlackFriday permanent #LFT 24/11/23" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/comment-faire-de-votre-vie-un-blackfriday-permanent</id><content type="html" xml:base="https://tech.bedrockstreaming.com/comment-faire-de-votre-vie-un-blackfriday-permanent">&lt;blockquote&gt;
  &lt;p&gt;A travers ce talk, j‚Äôaimerai vous initier √† l‚Äôint√©r√™t de la n√©gociation et les diff√©rentes techniques que l‚Äôon peut utiliser pour bien n√©gocier.
L‚Äôid√©e est de vous donner des cl√©s simples et efficaces pour aborder une situation fr√©quente qui peut parfois √™tre source de stress ou de tensions.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Thomas Sontag&lt;/strong&gt;&lt;/p&gt;</content><author><name>Thomas Sontag</name></author><category term="lft" /><summary type="html">A travers ce talk, j‚Äôaimerai vous initier √† l‚Äôint√©r√™t de la n√©gociation et les diff√©rentes techniques que l‚Äôon peut utiliser pour bien n√©gocier. L‚Äôid√©e est de vous donner des cl√©s simples et efficaces pour aborder une situation fr√©quente qui peut parfois √™tre source de stress ou de tensions.</summary></entry><entry><title type="html">Comment ne pas jeter son application Frontend tout les deux ans ? #LFT 24/11/23</title><link href="https://tech.bedrockstreaming.com/comment-ne-pas-jeter-son-application-frontend-tout-les-deux-ans" rel="alternate" type="text/html" title="Comment ne pas jeter son application Frontend tout les deux ans ? #LFT 24/11/23" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/comment-ne-pas-jeter-son-application-frontend-tout-les-deux-ans</id><content type="html" xml:base="https://tech.bedrockstreaming.com/comment-ne-pas-jeter-son-application-frontend-tout-les-deux-ans">&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Bonnes pratiques pour la maintenance d‚Äôune application web&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Refaire son front tous les 2 ans, c‚Äôest devenu une pratique plut√¥t courante dans tous les projets. Tous ? Non, chez Bedrock streaming, nous avons choisi de rester sur la m√™me codebase et √ßa depuis plus de 7 ans! En plus, ce n‚Äôest pas une petite application puisqu‚Äôil s‚Äôagit de 6play et de salto.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Vous pourriez vous dire: &lt;em&gt;‚ÄúOh les pauvres, maintenir une application vieille de presque 10 ans √ßa doit √™tre un enfer !‚Äù&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Rassurez-vous, ce n‚Äôest pas le cas ! Nous avons tous travaill√© sur des projets bien moins vieux mais sur lesquels le d√©veloppement de nouvelles fonctionnalit√©s √©tait bien plus p√©nible. &lt;strong&gt;Quel est notre secret ? C‚Äôest ce que vous allez d√©couvrir pendant ce talk.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Automatisation des t√¢ches courantes, gestion de la dette, testing et architecture seront des sujets abord√©s.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Florent Dubost &amp;amp; Antoine Caron&lt;/strong&gt;&lt;/p&gt;</content><author><name>[&quot;f_dubost&quot;, &quot;a_caron&quot;]</name></author><category term="lft" /><category term="tech" /><summary type="html">Bonnes pratiques pour la maintenance d‚Äôune application web</summary></entry><entry><title type="html">Jeux vid√©o, websocket et binaire: temps r√©el efficace pour navigateur #LFT 24/11/23</title><link href="https://tech.bedrockstreaming.com/jeux-video-websocket-et-binaire-temps-reel-efficace-pour-navigateur" rel="alternate" type="text/html" title="Jeux vid√©o, websocket et binaire: temps r√©el efficace pour navigateur #LFT 24/11/23" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/jeux-video-websocket-et-binaire-temps-reel-efficace-pour-navigateur</id><content type="html" xml:base="https://tech.bedrockstreaming.com/jeux-video-websocket-et-binaire-temps-reel-efficace-pour-navigateur">&lt;blockquote&gt;
  &lt;p&gt;Connaissez vous les websockets ? La techno id√©ale pour coder des exp√©riences temps r√©el dans le navigateur et que j‚Äôutilise dans tout mes projets collaboratifs et jeux multijoueur ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Je vous propose de nous int√©resser √† son fonctionnement, et √† la fa√ßon dont on peut mettre en place cette communication client/serveur performante, en √©changeant directement en binaire.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;On s‚Äôamusera √† les voir prendre vie tous ensemble dans une d√©mo live‚Ä¶en GO !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Thomas Jarrand&lt;/strong&gt;&lt;/p&gt;</content><author><name>Thomas Jarrand</name></author><category term="lft" /><category term="tech" /><summary type="html">Connaissez vous les websockets ? La techno id√©ale pour coder des exp√©riences temps r√©el dans le navigateur et que j‚Äôutilise dans tout mes projets collaboratifs et jeux multijoueur ?</summary></entry><entry><title type="html">Le futur du web est sur la p√©riph√©rie du r√©seau #LFT 24/11/23</title><link href="https://tech.bedrockstreaming.com/le-futur-du-web-est-sur-la-peripherie-du-reseau" rel="alternate" type="text/html" title="Le futur du web est sur la p√©riph√©rie du r√©seau #LFT 24/11/23" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/le-futur-du-web-est-sur-la-peripherie-du-reseau</id><content type="html" xml:base="https://tech.bedrockstreaming.com/le-futur-du-web-est-sur-la-peripherie-du-reseau">&lt;blockquote&gt;
  &lt;p&gt;Le mot est apparu sur toutes les documentations ces derniers mois : les cloud providers comme Vercel, Netlify ou AWS proposent leur version des ‚ÄúEdge Functions‚Äù, alors que les frameworks Javascript comme Next, Nuxt ou encore Astro mettent en avant leur support des ‚ÄúEdge API Routes‚Äù ou du ‚ÄúSSR on the Edge‚Äù. Mais qu‚Äôest-ce donc que tout cela ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;√Ä l‚Äôinstar des CDNs pour les fichiers statiques, ce nouveau paradigme consiste √† ex√©cuter le code serveur au plus pr√®s des utilisateurs (‚Äúthe Edge‚Äù). On peut ainsi obtenir du contenu dynamique √† la vitesse du statique, avec des usages comme le SSR, l‚Äôauthentification ou l‚ÄôA/B Testing √† la p√©riph√©rie du r√©seau.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Je vous propose de d√©couvrir, chiffres √† l‚Äôappui, les performances que l‚Äôon peut atteindre sur certains cas d‚Äôutilisation, et les situations dans lesquelles il n‚Äôest au contraire pas int√©ressant de l‚Äôutiliser. Avec √ßa, plus d‚Äôexcuses si votre site n‚Äôest pas ‚Äúblazing fast‚Äù.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Julien Sulpis&lt;/strong&gt;&lt;/p&gt;</content><author><name>Julien Sulpis</name></author><category term="lft" /><category term="tech" /><summary type="html">Le mot est apparu sur toutes les documentations ces derniers mois : les cloud providers comme Vercel, Netlify ou AWS proposent leur version des ‚ÄúEdge Functions‚Äù, alors que les frameworks Javascript comme Next, Nuxt ou encore Astro mettent en avant leur support des ‚ÄúEdge API Routes‚Äù ou du ‚ÄúSSR on the Edge‚Äù. Mais qu‚Äôest-ce donc que tout cela ?</summary></entry><entry><title type="html">STOP √† l‚Äôespionnage ! Comment dispara√Ætre d‚Äôinternet ? #LFT 24/11/23</title><link href="https://tech.bedrockstreaming.com/stop-a-l-espionnage-comment-disparaitre-d-internet" rel="alternate" type="text/html" title="STOP √† l‚Äôespionnage ! Comment dispara√Ætre d‚Äôinternet ? #LFT 24/11/23" /><published>2023-11-24T00:00:00+00:00</published><updated>2023-11-24T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/stop-a-l-espionnage-comment-disparaitre-d-internet</id><content type="html" xml:base="https://tech.bedrockstreaming.com/stop-a-l-espionnage-comment-disparaitre-d-internet">&lt;blockquote&gt;
  &lt;p&gt;Vous en avez marre de vous sentir traqu√© sur Internet ? üòí Nous aussi ! Mais est-il r√©ellement possible de nos jours de devenir un v√©ritable ninja digital ? ü•∑üèª Et si pour prot√©ger votre vie priv√©e en ligne, il fallait tout d‚Äôabord comprendre qui a acc√®s √† vos donn√©es et ce qu‚Äôils peuvent faire avec ?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Nous allons vous apprendre comment √™tre un vrai pro de la confidentialit√© et de la s√©curit√© des donn√©es, mais surtout comment devenir anonyme en ligne et √©viter les curieux‚Ä¶ üëÄ Sortez vos loupes et suivez-nous dans cette enqu√™te pour reprendre le contr√¥le de votre vie num√©rique !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Et si vous √™tes chanceux, nous vous d√©voilerons peut-√™tre quelques secrets de ninja pour √©chapper aux espions ! Venez nous rejoindre et apprenez comment devenir le ma√Ætre du camouflage num√©rique ! üò∂‚Äçüå´Ô∏è&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Etienne Idoux &amp;amp; Micka√´l Alves&lt;/strong&gt;&lt;/p&gt;</content><author><name>[&quot;e_idoux&quot;, &quot;m_alves&quot;]</name></author><category term="lft" /><category term="tech" /><summary type="html">Vous en avez marre de vous sentir traqu√© sur Internet ? üòí Nous aussi ! Mais est-il r√©ellement possible de nos jours de devenir un v√©ritable ninja digital ? ü•∑üèª Et si pour prot√©ger votre vie priv√©e en ligne, il fallait tout d‚Äôabord comprendre qui a acc√®s √† vos donn√©es et ce qu‚Äôils peuvent faire avec ?</summary></entry><entry><title type="html">Swift Concurrency in a Nutshell</title><link href="https://tech.bedrockstreaming.com/2023/11/14/swift-concurrency-in-a-nutshell.html" rel="alternate" type="text/html" title="Swift Concurrency in a Nutshell" /><published>2023-11-14T00:00:00+00:00</published><updated>2023-11-14T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/2023/11/14/swift-concurrency-in-a-nutshell</id><content type="html" xml:base="https://tech.bedrockstreaming.com/2023/11/14/swift-concurrency-in-a-nutshell.html">&lt;p&gt;As modern apps grow in complexity and features, the need for multitasking to enhance the user experience becomes evident. Whether processing large datasets or querying multiple systems over the network, concurrency is essential.&lt;/p&gt;

&lt;p&gt;This article presents a concise, yet comprehensive overview of Swift‚Äôs Concurrency, highlighting its key features and core concepts. Swift‚Äôs approach to concurrency provides several benefits:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Simplified code that‚Äôs easier to reason about and maintain&lt;/li&gt;
  &lt;li&gt;A noticeable reduction in bugs and performance issues&lt;/li&gt;
  &lt;li&gt;Ensured app responsiveness&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Before delving into Swift‚Äôs concurrency paradigms,  let‚Äôs familiarize ourselves with foundational terminology.&lt;/p&gt;

&lt;h4 id=&quot;concurrency&quot;&gt;Concurrency&lt;/h4&gt;

&lt;p&gt;Concurrency is about structuring your code so that tasks can be executed independently. It provides mechanisms for synchronization, communication, and coordination between units of work to avoid race conditions and ensure proper execution. However, concurrency doesn‚Äôt imply parallel execution; the actual mode of execution is determined separately.&lt;/p&gt;

&lt;p&gt;Designing your code effectively for concurrency makes adding parallelism nearly free.&lt;/p&gt;

&lt;h4 id=&quot;parallelism&quot;&gt;Parallelism&lt;/h4&gt;

&lt;p&gt;Parallelism is the simultaneous execution of tasks across multiple processing units, guaranteeing genuine concurrent progression of operations. It‚Äôs a specific form of concurrency where tasks are actually executed at the same time.&lt;/p&gt;

&lt;h4 id=&quot;structured-concurrency&quot;&gt;Structured Concurrency&lt;/h4&gt;

&lt;p&gt;Traditionally, developers had to manually manage &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;threads&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locks&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;callbacks&lt;/code&gt;, leading to code that is difficult to manage and error prone. Even with a lot of discipline, it was really hard to get right as the cognitive load was so high.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Structured concurrency&lt;/strong&gt; is a programming paradigm providing a higher level of abstraction, allowing you to manage concurrency in a structured and organized way. It simplifies the task management and their dependencies, making it easier to write correct and efficient concurrent code.&lt;/p&gt;

&lt;h2 id=&quot;swift-concurrency&quot;&gt;Swift Concurrency&lt;/h2&gt;

&lt;p&gt;One prime objective of Swift is safety, by removing &lt;strong&gt;undefined behaviors&lt;/strong&gt; such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;null pointer&lt;/code&gt;, array &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;out-of-bounds&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;integer overflows&lt;/code&gt;. Until recently, multithreading remained a weak spot in Swift‚Äôs safety features. Developers had to rely on &lt;a href=&quot;https://developer.apple.com/documentation/DISPATCH&quot;&gt;Grand Central Dispatch&lt;/a&gt;, which wasn‚Äôt inherently designed to help with concurrency-related pitfalls like &lt;a href=&quot;https://tclementdev.com/posts/what_went_wrong_with_the_libdispatch.html&quot;&gt;thread explosion&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Swift Concurrency&lt;/strong&gt; fills this gap, enhancing the language‚Äôs overall safety by integrating the &lt;strong&gt;Task&lt;/strong&gt; abstraction from Structured Concurrency, the &lt;strong&gt;async/await&lt;/strong&gt; pattern and &lt;strong&gt;Actors&lt;/strong&gt; for data isolation.&lt;/p&gt;

&lt;h3 id=&quot;task&quot;&gt;Task&lt;/h3&gt;

&lt;p&gt;With Swift Concurrency, Tasks become the primary unit of work and offer three core functionalities:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Carry scheduling information such as priority&lt;/li&gt;
  &lt;li&gt;Act as handles for task management&lt;/li&gt;
  &lt;li&gt;Hold user-defined and task-local data&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These attributes make tasks the cornerstone that guides the execution model in running, prioritizing, and suspending or canceling jobs. &lt;strong&gt;Every asynchronous function operates within a task&lt;/strong&gt;. Tasks also serve as the entry point for synchronous functions to execute asynchronous code.&lt;/p&gt;

&lt;h4 id=&quot;child-tasks&quot;&gt;Child Tasks&lt;/h4&gt;

&lt;p&gt;A child task is a task spawned by another task, known as the parent task. Child tasks inherit some properties from their parent, such as priority levels, but are their own individual units of work that can be scheduled independently. One important characteristic of child tasks is their lifetime is tied to their parent task; if the parent task is cancelled, all its child tasks are also cancelled. This ensures a structured way to manage and reason about concurrent tasks in your code. However, cancellations do not propagate upward, requiring parent tasks to manually check the status of their child tasks.&lt;/p&gt;

&lt;p&gt;Child Tasks are created using &lt;strong&gt;Task Groups&lt;/strong&gt; as we will see later.&lt;/p&gt;

&lt;h3 id=&quot;async--await&quot;&gt;async / await&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; pattern simplifies asynchronous code development, allowing a sequential-like structure, akin to traditional synchronous functions.&lt;/p&gt;

&lt;p&gt;Use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; keyword to mark functions that perform asynchronous work.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;performRemoteOperation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;ResultType&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; keyword indicates potential &lt;strong&gt;suspension points&lt;/strong&gt; in your code, which are necessary for running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; functions. These markers also offer developers insight into the behavior and control flow of asynchronous operations. At these suspension points, the system can pause the current task to await the completion of an asynchronous operation.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processRemoteData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Resource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;performRemoteOperation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// waiting for performRemoteOperation() to complete&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;error-propagation&quot;&gt;Error propagation&lt;/h4&gt;

&lt;p&gt;As you may have noticed in the previous examples, Swift‚Äôs concurrency model seamlessly integrates with the language‚Äôs native &lt;strong&gt;error-handling mechanism&lt;/strong&gt;. This brings several advantages over the old completion-based concurrency:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Clarity:&lt;/strong&gt; Errors are propagated in a way that is consistent with how they are handled in synchronous Swift code. This means you don‚Äôt have to learn a new error-handling paradigm when moving to concurrent code.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Safety:&lt;/strong&gt; Because errors can be propagated and caught, you can handle exceptional conditions gracefully, making your concurrent code more robust.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Maintainability:&lt;/strong&gt; With explicit error types and propagation, debugging and maintaining concurrent code becomes easier. You can clearly understand what types of errors your asynchronous functions can throw and handle them appropriately.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;actors&quot;&gt;Actors&lt;/h3&gt;

&lt;p&gt;Swift‚Äôs &lt;strong&gt;Structured Concurrency&lt;/strong&gt; is designed to address data races in concurrency for functions and closures. However, working concurrently usually involve dealing with &lt;strong&gt;shared mutable state&lt;/strong&gt;, requiring tedious manual synchronization.&lt;/p&gt;

&lt;p&gt;To address this, Swift introduces &lt;strong&gt;Actors&lt;/strong&gt;, a new &lt;strong&gt;reference type&lt;/strong&gt; designed to encapsulate states within a specific concurrency domain, ensuring &lt;strong&gt;data isolation&lt;/strong&gt; and &lt;strong&gt;thread-safe&lt;/strong&gt; operations. Actors not only enhances safety and efficiency but also align with Swift‚Äôs established patterns and features.&lt;/p&gt;

&lt;p&gt;To create an Actor, just use the keyword &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;actor&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;actor&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;playerTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;playerTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;previousMessages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playerTag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;playerTag&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;previousMessages&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Actors are similar to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;class&lt;/code&gt;, the main difference is that they protect their mutable data from data races by implementing &lt;strong&gt;Actor Isolation&lt;/strong&gt;.&lt;/p&gt;

&lt;h4 id=&quot;actor-isolation&quot;&gt;Actor Isolation&lt;/h4&gt;

&lt;p&gt;Actor Isolation enforces that any mutable properties managed by an actor can only be modified using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// error: trying to access another actor mutable property&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;playerTag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// works fine as read only&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the example above, the compiler complains when trying to modify the mutable property of another actor (cross-actor reference). However, accessing read-only properties poses no issue.&lt;/p&gt;

&lt;p&gt;To address this, you can introduce another function allowing the other &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MessageThread&lt;/code&gt; actor to modify its own state.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;receive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;receive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With these modifications:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;send&lt;/code&gt; function is now &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;, because of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; suspension point required to call the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;receive&lt;/code&gt; function in the other actor‚Äôs asynchronous context.&lt;/li&gt;
  &lt;li&gt;While the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;receive&lt;/code&gt; function isn‚Äôt explicitly marked as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; (since it doesn‚Äôt have suspension points and operates synchronously), actor isolation in Swift ensures functions behave as implicitly &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; when invoked from outside their own actor‚Äôs context.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Actors&lt;/strong&gt; ensure safe execution by maintaining their own dedicated serial &lt;strong&gt;executor&lt;/strong&gt; internally. Messages sent to an actor are termed &lt;strong&gt;partial tasks&lt;/strong&gt;. While processing these tasks, the order of their execution is not strictly guaranteed, as priorities of partial tasks influence the sequence in which they are tackled.&lt;/p&gt;

&lt;p&gt;Lastly, you can do a cross-actor reference on a mutable property with an asynchronous call as long as it‚Äôs read only.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getMessages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MessageThread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;messages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// works&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;sendable&quot;&gt;Sendable&lt;/h4&gt;

&lt;p&gt;Finally, to make Actors truly isolated we need to prevent cross-actor references from inadvertently sharing mutable state. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sendable&lt;/code&gt; protocol was introduced to ensure that types shared across actor boundaries don‚Äôt introduce data races. This protocol doesn‚Äôt provide or dictate specific code behavior, but is leveraged by the compiler to ensure the safety of the concurrent code.&lt;/p&gt;

&lt;p&gt;Here are types that can conform to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sendable&lt;/code&gt; (some implicitely do):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Value types&lt;/li&gt;
  &lt;li&gt;Actors&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;final&lt;/code&gt; classes with immutable and sendable properties (and without superclass).&lt;/li&gt;
  &lt;li&gt;Functions and closures when using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@Sendable&lt;/code&gt; attribute.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For a detailed explanation, please refer to the official &lt;a href=&quot;https://developer.apple.com/documentation/swift/sendable&quot;&gt;Apple documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;global-actor&quot;&gt;Global Actor&lt;/h4&gt;

&lt;p&gt;Global actors are Actors providing a way to extend actor isolation to &lt;strong&gt;global and static variables&lt;/strong&gt;, safeguarding them from concurrent access issues. Global actor can be referenced from anywhere in the program. A common global actor is the &lt;strong&gt;MainActor&lt;/strong&gt; which allows you to execute your code on the main thread.&lt;/p&gt;

&lt;h2 id=&quot;in-practice&quot;&gt;In Practice&lt;/h2&gt;

&lt;p&gt;Theory covered, let‚Äôs dive into practical use-cases.&lt;/p&gt;

&lt;h3 id=&quot;call-async-functions-sequentially&quot;&gt;Call Async Functions Sequentially&lt;/h3&gt;

&lt;p&gt;While calling functions sequentially is straightforward in synchronous code, achieving the same in asynchronous code used to be cumbersome, often leading to the &lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md#problem-1-pyramid-of-doom&quot;&gt;Pyramid of doom&lt;/a&gt;. Swift‚Äôs concurrency model radically simplifies this by using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async/await&lt;/code&gt; paradigm.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UserInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;ProfileImage&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchAct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UserActivity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;saveDB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UserInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;ProfileImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;act&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UserActivity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;backupUserProfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;act&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchAct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;saveDB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;act&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The use of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; ensures each async function completes before the next starts. This sequential execution offers the readability of synchronous code while retaining the benefits of asynchronicity.&lt;/p&gt;

&lt;h3 id=&quot;call-async-functions-in-parallel&quot;&gt;Call Async Functions in Parallel&lt;/h3&gt;

&lt;p&gt;When async functions are independent, running them in parallel can save time.  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async let&lt;/code&gt; allows you to achieve this with minimal code changes. Consider the previous example, modified to execute tasks concurrently:&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;backupUserProfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchImg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;act&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchAct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;saveDB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;act&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Await the results of async let tasks&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async let&lt;/code&gt; spawns child tasks, sets placeholders on the variables, and allows the code to continue running until it needs the results, which are obtained using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; at the end of the function.&lt;/p&gt;

&lt;h3 id=&quot;call-async-functions-from-a-synchronous-function&quot;&gt;Call Async Functions from a Synchronous Function&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; serves as a bridge between synchronous and asynchronous code, enabling you to use async-await without requiring the entire function chain to be asynchronous.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;onSavePressed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;backupUserProfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Error backing up profile: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localizedDescription&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An alternative is &lt;a href=&quot;https://developer.apple.com/documentation/swift/task/detached(priority:operation:)-8a4p6&quot;&gt;Task.detached&lt;/a&gt;. This creates a new top-level task and decouples it from its originating context, allowing it to operate on a different Actor and with a different priority. A typical scenario involves initiating a task from the main thread to execute it on a different thread.&lt;/p&gt;

&lt;h4 id=&quot;terminology-unstructured-concurrency&quot;&gt;Terminology: Unstructured Concurrency&lt;/h4&gt;

&lt;p&gt;Creating a standalone &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; is known as an &lt;strong&gt;Unstructured Task&lt;/strong&gt;, as it lacks both a parent task and child tasks.&lt;/p&gt;

&lt;p&gt;Unstructured Tasks are useful for:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Calling a task from a non-async context&lt;/li&gt;
  &lt;li&gt;Tasks that must persist beyond a specific scope&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note: Swift‚Äôs use of the terms &lt;strong&gt;Structured&lt;/strong&gt; and &lt;strong&gt;Unstructured Concurrency&lt;/strong&gt; relates only to the hierarchy of Tasks and should not be confused with the broader concept of &lt;a href=&quot;#structured-concurrency&quot;&gt;Structured Concurrency&lt;/a&gt; described in the introduction.&lt;/p&gt;

&lt;p&gt;Quoting the &lt;a href=&quot;https://docs.swift.org/swift-book/documentation/the-swift-programming-language/concurrency/#Tasks-and-Task-Groups&quot;&gt;swift documentation&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Structured concurrency&lt;/strong&gt;: Tasks arranged in a hierarchy. Each task in a task group has the same parent task, and each task can have child tasks. Although you take on some of the responsibility for correctness, the explicit parent-child relationships between tasks let Swift handle some behaviors like propagating cancellation for you, and lets Swift detect some errors at compile time.&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;Unstructured concurrency&lt;/strong&gt;: Unlike tasks that are part of a task group, an &lt;em&gt;unstructured task&lt;/em&gt; doesn‚Äôt have a parent task. You have complete flexibility to manage unstructured tasks in whatever way your program needs, but you‚Äôre also completely responsible for their correctness.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;parallel-processing-with-task-groups&quot;&gt;Parallel Processing with Task Groups&lt;/h3&gt;

&lt;p&gt;While &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async let&lt;/code&gt; may suffice for handling a limited number of tasks, Task Groups are recommended when a structured approach to parallelism is desired. Here‚Äôs an example that employs Task Groups along with an accumulator to safely process an array of data in parallel.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;processedData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;withTaskGroup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;returning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taskGroup&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; 	
    &lt;span class=&quot;c1&quot;&gt;// Create a new Task within the Task Group for each item   &lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;taskGroup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Create a new Task within the Task Group&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;allData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// Asynchronously collect the task results as they complete&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taskGroup&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;allData&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;allData&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code initializes a Task Group and spawns a child task for each item with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.background&lt;/code&gt; priority. Then an &lt;a href=&quot;https://developer.apple.com/documentation/swift/asyncsequence&quot;&gt;AsyncSequence&lt;/a&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for await&lt;/code&gt; loop asynchronously collects and stores the task results in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allData&lt;/code&gt; accumulator as they complete.&lt;/p&gt;

&lt;h4 id=&quot;cooperative-cancellation&quot;&gt;Cooperative Cancellation&lt;/h4&gt;

&lt;p&gt;To enable cancellation within Task Groups, tasks must be built for &lt;strong&gt;Cooperative Cancellation&lt;/strong&gt;, which means the task periodically checks whether it should terminate early. Two methods can be used to check if a task has been cancelled:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;try Task.checkCancellation()&lt;/code&gt; throws an error if the current Task is cancelled..&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if Task.isCancelled { break }&lt;/code&gt; returns true if the Task is cancelled. Note that this approach might produce partial outputs, which should be documented.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;taskGroup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;addTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;background&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isCancelled&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Return empty or default Data&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;reference-and-cancel-a-task&quot;&gt;Reference and Cancel a Task&lt;/h3&gt;

&lt;p&gt;Until now, we‚Äôve only used tasks for running isolated asynchronous operations. However, there are scenarios where maintaining a task reference for potential cancellation is beneficial, as shown in the following static sales dashboard example.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;SalesDataViewController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UIViewController&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;processingTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;Void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Never&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewWillAppear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewWillAppear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;processingTask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;processingTask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;rawData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchSales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
              	&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;chartData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rawData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;showChartData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chartData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;handleError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;processingTask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;viewDidDisappear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;processingTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cancel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;processingTask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SalesDataViewController&lt;/code&gt; class, we create and keep a reference to a new Task for fetching and processing sales data. If the user exits the view before the task completes, the task is canceled, preventing task accumulation during repeated view transitions.&lt;/p&gt;

&lt;h3 id=&quot;convert-completion-based-api-to-async-functions-with-continuation&quot;&gt;Convert completion based API to async functions with Continuation&lt;/h3&gt;

&lt;p&gt;Sometimes you encounter legacy APIs not designed to work with Swift‚Äôs Concurrency model, often the case with Objective-C-based APIs. Swift offers a solution via &lt;a href=&quot;https://developer.apple.com/documentation/swift/checkedcontinuation&quot;&gt;Continuation&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Continuation wraps old-style block-based code and adapts it for use in an async function. This enables you to return values or throw errors within that function. Here‚Äôs how to apply this with HealthKit as an example:&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HealthKit&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getWorkouts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;HKWorkout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withCheckedThrowingContinuation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;continuation&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HKSampleQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;sampleType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HKObjectType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;workoutType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;predicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HKObjectQueryNoLimit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;sortDescriptors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;nil&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;continuation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;throwing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HealthError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;HKWorkout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;continuation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;throwing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;HealthError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wrongType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;continuation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;resume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;returning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;HKHealthStore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Always ensure to resume a Continuation &lt;strong&gt;exactly once&lt;/strong&gt;; failing to do so can lead to indefinite suspension of the task, resulting in a &lt;strong&gt;memory leak&lt;/strong&gt;, as per Apple‚Äôs guidelines. Resuming multiple times is considered &lt;strong&gt;undefined behavior&lt;/strong&gt; and should be avoided.&lt;/p&gt;

&lt;h3 id=&quot;executing-async-code-on-main-thread-with-mainactor&quot;&gt;Executing Async Code on Main Thread with MainActor&lt;/h3&gt;

&lt;p&gt;You can use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MainActor&lt;/code&gt; to execute code on the main thread via three ways:&lt;/p&gt;

&lt;h4 id=&quot;annotate-your-code-with-mainactor&quot;&gt;Annotate your code with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@MainActor&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;Apply the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@MainActor&lt;/code&gt; attribute to properties, functions and classes.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;@MainActor&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Data&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Update occurs on the main thread&lt;/span&gt;
  
    &lt;span class=&quot;kd&quot;&gt;@MainActor&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;updateUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// this is now called on the main thread&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// class properties and functions are now run on the MainActor&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;@MainActor&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Data&lt;/span&gt;
  
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;updateUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;use-mainactor-in-task-closures&quot;&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@MainActor&lt;/code&gt; in Task closures&lt;/h4&gt;

&lt;p&gt;Incorporate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@MainActor&lt;/code&gt; within a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; to switch its execution context to the main thread.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;@MainActor&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; 
    &lt;span class=&quot;c1&quot;&gt;// Code runs on the main thread&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;use-mainactorrun&quot;&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MainActor.run&lt;/code&gt;&lt;/h4&gt;

&lt;p&gt;Use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MainActor.run&lt;/code&gt; within any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; or asynchronous function to force main-thread execution.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchAndProcessData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MainActor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Executed on main thread&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;updateUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;tips-and-pitfalls&quot;&gt;Tips and pitfalls&lt;/h2&gt;

&lt;h3 id=&quot;task-cheat-sheet&quot;&gt;Task Cheat sheet&lt;/h3&gt;

&lt;p&gt;For quick reference, here‚Äôs a table taken from &lt;a href=&quot;https://developer.apple.com/videos/play/wwdc2021/10134/&quot;&gt;Explore structured concurrency in Swift&lt;/a&gt; WWDC session.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;¬†&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Launched by&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Launchable from&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Lifetime&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Cancellation&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Inherits from origin&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;async-let tasks&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async let x&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;async functions&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;scoped to statement&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;automatic&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;priority, task-local values&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Group tasks&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;group.async&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withTaskGroup&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;scoped to task group&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;automatic&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;priority, task-local values&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Unstructured tasks&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;anywhere&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;unscoped&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;priority, task-local values, actor&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Detached tasks&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task.detached&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;anywhere&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;unscoped&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;nothing&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;async-protocol-conformance&quot;&gt;Async Protocol Conformance&lt;/h3&gt;

&lt;p&gt;When defining a protocol with async functions, you can &lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md#protocol-conformance&quot;&gt;conform to the protocol&lt;/a&gt; by implementing a synchronous function too.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyProtocol&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;TypeA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyProtocol&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;TypeB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyProtocol&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// also valid&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;reentrancy&quot;&gt;Reentrancy&lt;/h3&gt;

&lt;p&gt;In Swift concurrency, &lt;a href=&quot;https://en.wikipedia.org/wiki/Reentrancy_(computing)&quot;&gt;Reentrancy&lt;/a&gt; refers to the situation where a suspended block of code resumes execution at a later time. Upon resumption, the mutable state of your code is not guaranteed to remain the same as it was before suspension, posing potential risks of unintended side effects.&lt;/p&gt;

&lt;h4 id=&quot;task-suspension-and-unowned-references&quot;&gt;Task Suspension and Unowned References&lt;/h4&gt;

&lt;p&gt;In Swift‚Äôs concurrency model, a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; strongly retains any reference to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;, potentially extending the object‚Äôs lifecycle unexpectedly, especially if tasks remain active after their parent objects have been deallocated. To mitigate this, developers often employ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;weak self&lt;/code&gt;. However, introducing a suspension point using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; within a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Task&lt;/code&gt; can reintroduce issues associated with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unowned&lt;/code&gt; references.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;unowned&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dataStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;DataStorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;refreshData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// temporarily retains self&lt;/span&gt;
            
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;newData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loadDataFromDisk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataStorage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newData&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Safe&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this example, the code behaves as expected because it executes atomically. If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; is available, it is temporarily retained, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;newData&lt;/code&gt; is updated synchronously.&lt;/p&gt;

&lt;p&gt;However, introducing a suspension point can lead to issues similar to those encountered when neglecting to check for a weak &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyClass&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;unowned&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;dataStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;DataStorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;refreshData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;weak&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;guard&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// temporarily retains self&lt;/span&gt;
            
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;newData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;downloadData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// suspension point&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataStorage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newData&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// random crash&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, if the task suspends during the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;, nothing prevents &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dataStorage&lt;/code&gt;‚Äôs owner from being deallocated. When the task resumes, attempting to access the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unowned&lt;/code&gt; property can result in a fatal error since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dataStorage&lt;/code&gt; is no longer in memory.&lt;/p&gt;

&lt;h4 id=&quot;actor-reentrancy&quot;&gt;Actor Reentrancy&lt;/h4&gt;

&lt;p&gt;Actor Reentrancy is a complex behavior that occurs when an actor method makes an asynchronous call, and while waiting for that call to complete, the actor processes other tasks. This can lead to unexpected states within the actor due to interleaved execution of its methods.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;actor&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;increment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doLongProcessing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// suspension point&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Unpredictable output (1?)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this example, while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;process()&lt;/code&gt; is awaiting the completion of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;doLongProcessing()&lt;/code&gt;, there‚Äôs an opportunity for another task to call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;increment()&lt;/code&gt;. This undermines the expectation that an actor‚Äôs state remains consistent within a given method. So, the second &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;print(value)&lt;/code&gt; may output an unpredictable result, illustrating the challenge of managing mutable state in an actor with reentrant behavior.&lt;/p&gt;

&lt;h3 id=&quot;unintentional-task-inheritance&quot;&gt;Unintentional Task Inheritance&lt;/h3&gt;

&lt;p&gt;In Swift‚Äôs concurrency model, child tasks inherit the properties of their parent tasks by default, including priority levels and task-local values. Lack of awareness about this behavior can lead to unexpected outcomes, particularly when generating Tasks through SwiftUI modifiers, as demonstrated below.&lt;/p&gt;

&lt;div class=&quot;language-swift highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;MyView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;some&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;View&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  
    &lt;span class=&quot;kd&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// Inherits properties (e.g., priority, executor) from the parent Task&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// The long job will execute on the main thread&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;longJob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;kt&quot;&gt;Task&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;detached&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;priority&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userInitiated&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// Unstructured Task: Does not inherit any properties from parent Task&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// The long job will execute outside the main thread&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;longJob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;As we have seen, Swift Concurrency is a huge step forward in terms of safety and code maintainability. I hope you enjoyed reading this article and learned a few tricks. Dive in, experiment, and harness the power of Swift concurrency. Happy coding!&lt;/p&gt;

&lt;h2 id=&quot;further-reading--references&quot;&gt;Further Reading &amp;amp; References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://swiftrocks.com/how-async-await-works-internally-in-swift&quot;&gt;How async/await works internally in Swift&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/HqjqwW12wpw?si=zTonWzxAatpTYfKr&quot;&gt;The Bleeding Edge of Swift Concurrency&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0304-structured-concurrency.md&quot;&gt;Structured concurrency&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0296-async-await.md&quot;&gt;Async/await&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0317-async-let.md&quot;&gt;Async let&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0306-actors.md&quot;&gt;Actors&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/apple/swift-evolution/blob/main/proposals/0316-global-actors.md&quot;&gt;Global Actors&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://youtu.be/oV9rvDllKEg?si=kwXQULVlNNT3K6LS&quot;&gt;Concurrency is not Parallelism&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Damien Petrilli</name></author><category term="swift" /><category term="apple" /><category term="xcode" /><summary type="html">As modern apps grow in complexity and features, the need for multitasking to enhance the user experience becomes evident. Whether processing large datasets or querying multiple systems over the network, concurrency is essential.</summary></entry><entry><title type="html">Bedrock au Forum PHP 2023</title><link href="https://tech.bedrockstreaming.com/2023/10/20/forum-php-afup-2023.html" rel="alternate" type="text/html" title="Bedrock au Forum PHP 2023" /><published>2023-10-20T00:00:00+00:00</published><updated>2023-10-20T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/2023/10/20/forum-php-afup-2023</id><content type="html" xml:base="https://tech.bedrockstreaming.com/2023/10/20/forum-php-afup-2023.html">&lt;p&gt;Cette ann√©e encore, Bedrock √©tait pr√©sent au Forum PHP pour cette √©dition 2023.&lt;/p&gt;

&lt;p&gt;Nous √©tions sept au total : trois organisateurs, trois visiteurs et une conf√©renci√®re, Pauline Rambaud.&lt;/p&gt;

&lt;h2 id=&quot;les-conf√©rences-que-lon-retient&quot;&gt;Les conf√©rences que l‚Äôon retient&lt;/h2&gt;

&lt;h3 id=&quot;why-is-php-still-awesome-in-2023-&quot;&gt;Why is PHP still awesome in 2023 ?&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/fkarlitschek&quot;&gt;Frank Karlitschek&lt;/a&gt;, co-fondateur de &lt;a href=&quot;https://nextcloud.com&quot;&gt;NextCloud&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;La conf√©rence s‚Äôest divis√©e en deux parties que l‚Äôon pourrait r√©sumer de la
mani√®re suivante :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Une pr√©sentation assez d√©taill√©e de ce qu‚Äôest &lt;em&gt;NextCloud&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;Pourquoi le choix de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PHP&lt;/code&gt;üêò pour &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NextCloud&lt;/code&gt; ?&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;nextcloud&quot;&gt;NextCloud&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NextCloud&lt;/code&gt; est un outil comparable √† &lt;em&gt;Google Workspace&lt;/em&gt;, car il permet la gestion
de fichiers partag√©s, de documents de type Office, et propose aussi des outils
de conversations textuelles et d‚Äôappels vid√©os.&lt;/p&gt;

&lt;p&gt;Il existe en version desktop bien s√ªr, mais aussi en version mobile.
On peut noter qu‚Äôil est utilis√© par le &lt;em&gt;Gouvernement Fran√ßais&lt;/em&gt;, ou encore
&lt;em&gt;l‚ÄôUnion Europ√©enne&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;En somme, il constitue aujourd‚Äôhui une alternative cr√©dible √† ses concurrents
Am√©ricains ou Chinois.&lt;/p&gt;

&lt;p&gt;Une de ses diff√©rences majeure toutefois est qu‚Äôil est &lt;em&gt;open-source&lt;/em&gt;.&lt;/p&gt;

&lt;h4 id=&quot;pourquoi-choisir-php-pour-nextcloud-&quot;&gt;Pourquoi choisir PHP pour NextCloud ?&lt;/h4&gt;

&lt;p&gt;Les raisons que Frank nous donne sont les suivantes :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PHP&lt;/code&gt;üêò est facile √† d√©ployer&lt;/li&gt;
  &lt;li&gt;Il est ind√©pendant (il n‚Äôappartient pas √† Google)&lt;/li&gt;
  &lt;li&gt;Son isolation des process garantie une bonne scalabilit√©&lt;/li&gt;
  &lt;li&gt;Il propose une bonne courbe d‚Äôapprentissage&lt;/li&gt;
  &lt;li&gt;Il √©volue depuis longtemps et est donc robuste&lt;/li&gt;
  &lt;li&gt;Il a derri√®re lui une grosse communaut√© de d√©veloppeur&lt;/li&gt;
  &lt;li&gt;Un important √©cosyst√®me d‚Äôint√©gration et de frameworks&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Il √©voque toutefois quelques limites qui subsistent √† son sens :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;il reste (de moins en moins) facile d‚Äô√©crire du code non s√©curis√©, malgr√©
le syst√®me de typehinting ou les enums&lt;/li&gt;
  &lt;li&gt;il reste des incoh√©rences, par exemple dans les &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;array functions&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;il reste tr√®s limit√© dans la programmation fonctionnelle&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Toutefois, Franck conclura sur le fait que sans &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PHP&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NextCloud&lt;/code&gt; n‚Äôaurait
jamais √©t√© possible.&lt;/p&gt;

&lt;h3 id=&quot;augmentez-votre-couverture--supprimez-des-tests&quot;&gt;Augmentez votre couverture : supprimez des tests&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/augmentez-votre-couverture.jpeg&quot; alt=&quot;Baptiste Langlade&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/Baptouuuu&quot;&gt;Baptiste Langlade&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Avez-vous d√©j√† √©t√© confront√© √† la probl√©matique de l‚Äôaugmentation exponentielle
du nombre de tests de votre projet, et par cons√©quent, de l‚Äôaugmentation du temps
d‚Äôex√©cution de vos tests ?&lt;/p&gt;

&lt;p&gt;Ce fut le cas de Baptiste dans l‚ÄôApplication de gestion de Documents √† laquelle
il a particip√©.&lt;/p&gt;

&lt;h4 id=&quot;vive-le-hasard&quot;&gt;Vive le hasard&lt;/h4&gt;

&lt;p&gt;Sa r√©ponse √† ce probl√®me fut la suivante : &lt;em&gt;jouer des tests au hasard&lt;/em&gt;, autrement
dit faire du &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Property Based Testing&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;L‚Äôid√©e est de g√©n√©rer al√©atoirement des donn√©es pour couvrir le plus de cas
possible.&lt;/p&gt;

&lt;p&gt;Ensuite, on √©crit un test si un bug survient.&lt;/p&gt;

&lt;p&gt;Cette approche se base sur la fameuse loi de Murphy qui veut que lorsqu‚Äôun probl√®me
doit survenir, il arrive toujours trop t√¥t.&lt;/p&gt;

&lt;p&gt;On mise donc sur l‚Äôal√©atoire pour faire remonter les bugs plus rapidement.
Ainsi, on d√©termine que pour tout ensemble de donn√©e X, l‚Äôensemble des tests
doit √™tre vrai.&lt;/p&gt;

&lt;h4 id=&quot;blackbox&quot;&gt;Blackbox&lt;/h4&gt;

&lt;p&gt;De cette approche est n√©e &lt;a href=&quot;https://github.com/Innmind/BlackBox&quot;&gt;Blackbox&lt;/a&gt;, une
librairie compatible &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PHPUnit&lt;/code&gt; permettant de faciliter et d‚Äôautomatiser la mise
en place de tests bas√©e sur le &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Property Based Testing&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Elle permet notamment de faire en sorte que les jeux de donn√©es que l‚Äôon va
ins√©rer en input peuvent √™tre vraiment divers et vari√©s, et provoquer des
cas critiques non r√©pertori√©s.&lt;/p&gt;

&lt;p&gt;R√©sultat : plus on joue les tests, plus notre confiance grandit dans l‚Äôapplication.&lt;/p&gt;

&lt;h3 id=&quot;comment-contribuer-√†-php-en-2023--georges-banyard&quot;&gt;Comment contribuer √† PHP en 2023 ? Georges Banyard&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/contribuer-a-php-en-2023.jpeg&quot; alt=&quot;Georges Banyard&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/Girgias&quot;&gt;Georges Banyard&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Tout d‚Äôabord Georges Banyard a introduit la notion de compilation minimale de PHP en C, pour cela il a utilis√© son blog
et nous a pr√©sent√© les choses importantes √† connaitre.&lt;/p&gt;

&lt;p&gt;Puis, il a fait la pr√©sentation du code source de PHP et du moteur de recherche qu‚Äôil utilise.&lt;/p&gt;

&lt;p&gt;Ensuite, il a commenc√© √† nous montrer quelques ressources auxquelles se r√©ferer si nous d√©sirons contribuer √† PHP.&lt;/p&gt;

&lt;p&gt;Rappelons que PHP est un langage de programmation open-source et que toute personne d√©sireuse de l‚Äôam√©liorer peut
proposer une impl√©mentation.&lt;/p&gt;

&lt;p&gt;Les ressources que nous pourrions utiliser si notre souhait √©tait de cr√©er une nouvelle fonction dans PHP seraient :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;des articles sur Zend (https://www.zend.com/resources/writing-php-extensions)&lt;/li&gt;
  &lt;li&gt;le PHP internal books (https://www.phpinternalsbook.com/)&lt;/li&gt;
  &lt;li&gt;ou bien encore la ‚ÄúRoom 11‚Äù sur Stackoverflow o√π se retrouve de nombreux contributeurs PHP.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Georges Banyard est ensuite pass√© √† la pratique et a cod√© en direct une nouvelle fonction de tri dans un
tableau &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;array_search&lt;/code&gt;. Le but de cette conf√©rence √©tait de d√©mystifier la contribution √† PHP et de montrer aux gens que
finalement ce n‚Äôest pas si compliqu√©, il suffit de plonger dedans !&lt;/p&gt;

&lt;h3 id=&quot;utilisez-la-biblioth√®que-standard-php-spl-au-quotidien&quot;&gt;Utilisez la biblioth√®que standard PHP (SPL) au quotidien&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/bibliotheque-standard-psl.jpeg&quot; alt=&quot;Florian Merle&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/florianm__&quot;&gt;Florian Merle&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;La biblioth√®que &lt;a href=&quot;https://www.php.net/manual/fr/book.spl.php&quot;&gt;SPL&lt;/a&gt; √ßa vous dit quelque
chose ? En r√©alit√©, vous l‚Äôutilisez d√©j√† au quotidien √† travers les &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Exceptions&lt;/code&gt;
ou bien la fonction &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spl_autoload_register&lt;/code&gt; par exemple, mais Florian est venu
nous parler de certains aspects moins connus et pourtant tr√®s utiles.&lt;/p&gt;

&lt;h4 id=&quot;les-structures-de-donn√©es&quot;&gt;Les structures de donn√©es&lt;/h4&gt;

&lt;p&gt;La plus √©vidente et la plus connue, qui a sans doute contribu√© √† la facilit√©
d‚Äôacc√®s de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PHP&lt;/code&gt;üêò est bien √©videmment l‚Äô&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;array&lt;/code&gt;. Mais si son avantage majeur
est le fait qu‚Äôil soit multi-usage, il se r√©v√®le en r√©alit√© assez peu optimis√©
pour les gros volumes de donn√©es.&lt;/p&gt;

&lt;p&gt;D‚Äôautres structures telles que les listes doublements cha√Æn√©es
(&lt;a href=&quot;https://www.php.net/manual/fr/class.spldoublylinkedlist.php&quot;&gt;SplDoublyLinkedList&lt;/a&gt;),
ou les &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Heaps&lt;/code&gt; (&lt;a href=&quot;https://www.php.net/manual/fr/class.splheap.php&quot;&gt;SplHeap&lt;/a&gt;,
&lt;a href=&quot;https://www.php.net/manual/fr/class.splpriorityqueue.php&quot;&gt;SplPriorityQueue&lt;/a&gt; ont
√©t√© abord√©es, mais on constate rapidement qu‚Äôelles pr√©sentent l‚Äôinconv√©nient majeur
d‚Äôavoir de mauvaises performances par rapport √† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;array&lt;/code&gt; et des nommages de m√©thode
peu intuitif.&lt;/p&gt;

&lt;h4 id=&quot;php-ds&quot;&gt;PHP DS&lt;/h4&gt;

&lt;p&gt;Une alternative int√©ressante est &lt;a href=&quot;https://www.php.net/manual/fr/book.ds.php&quot;&gt;DS&lt;/a&gt;,
qui ne pr√©sente pas de probl√®me de gestion de priorit√© et de meilleures performances.&lt;/p&gt;

&lt;p&gt;Florian nous a pr√©sent√© notamment &lt;a href=&quot;https://www.php.net/manual/en/class.ds-priorityqueue.php&quot;&gt;DS\PriorityQueue&lt;/a&gt;
et &lt;a href=&quot;https://www.php.net/manual/en/class.ds-vector&quot;&gt;DS\Vector&lt;/a&gt;, qui constitue une
alternative int√©ressante √† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;array&lt;/code&gt;.&lt;/p&gt;

&lt;h4 id=&quot;les-iterators&quot;&gt;Les iterators&lt;/h4&gt;

&lt;p&gt;Enfin, nous avons vu les iterators de la SPl avec :&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.php.net/manual/fr/class.iteratoraggregate&quot;&gt;IteratorAggregate&lt;/a&gt;
qui permet d‚Äôappliquer un traitement √©ventuel sur le tableau&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.php.net/manual/fr/class.appenditerator&quot;&gt;AppendIterator&lt;/a&gt;
qui permet d‚Äôins√©rer d‚Äôautres it√©rateurs&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.php.net/manual/fr/class.iteratoriterator.php&quot;&gt;IteratorIterator&lt;/a&gt;
qui renvoie un autre Iterator&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.php.net/manual/fr/class.infiniteiterator.php&quot;&gt;InfiniteIterator&lt;/a&gt;
qui permet de boucler √† l‚Äôinfini (pensez √† la fonction lecture en boucle de votre player audio)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.php.net/manual/fr/class.callbackfilteriterator.php&quot;&gt;CallbackFilterIterator&lt;/a&gt;
qui permet de filtrer les donn√©es √† l‚Äôaide d‚Äôune callback.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;apprendre-√†-apprendre--petit-dev-deviendra-grand---aline-leroy&quot;&gt;Apprendre √† apprendre : petit dev deviendra grand - Aline Leroy&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par Aline Leroy&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Aline Leroy nous parle ici de sa reconversion, et des diff√©rentes exp√©riences qu‚Äôelle a v√©cues au cours de son
apprentissage du code. Elle nous donne plein d‚Äôastuces et de cl√©s pour am√©liorer notre fa√ßon d‚Äôapprendre et de
travailler notre plasticit√© c√©r√©brale. Tout d‚Äôabord, il faut g√©rer son temps, alterner concentration et dispersion, et
comprendre qu‚Äôapprendre c‚Äôest cr√©er des liens et des images mentales.&lt;/p&gt;

&lt;p&gt;Aline Leroy nous conseille de commencer par faire une introspection afin de d√©terminer quels sont nos points forts et
faibles, quels sont nos objectifs et puis pour comprendre son propre fonctionnement. Ensuite, il faut faire preuve de
curiosit√© et ne pas se limiter √† un domaine (pensez cr√©ation de lien, plus le champ est grand, plus vous allez faire
des connexions). Nous pourrons aussi choisir de travailler par d√©coupage, une partie des choses √† apprendre, nous allons
devoir travailler notre m√©moire. Il est aussi important que l‚Äôapprentissage soit une d√©marche active, prise de notes,
recherche, ne pas cat√©goriser et surtout, c‚Äôest un processus qui demande de la r√©gularit√©.&lt;/p&gt;

&lt;p&gt;Elle insiste sur l‚Äôaspect bien-√™tre qui est tr√®s important pour apprendre, se mettre au calme, couper ses notifications
et puis on prend des pauses, car c‚Äôest l√† que tout le travail de liaison neuronale se fait. Une pause sportive et encore
plus recommand√©e, bien s√ªr ces temps de dispersion doivent √™tre sur un temps maitris√©.&lt;/p&gt;

&lt;h3 id=&quot;you-build-it-you-run-it-lobservabilit√©-pour-les-devs&quot;&gt;You Build It, You Run It, l‚Äôobservabilit√© pour les devs&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/you-build-it-you-run-it.jpeg&quot; alt=&quot;Smaine Milianni&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/SmaineDev&quot;&gt;Smaine Milianni&lt;/a&gt;, d√©veloppeur chez Yousign&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;L‚Äôobservabilit√© est quelque chose de tr√®s important chez Bedrock, c‚Äôest pourquoi cette conf√©rence √©tait tr√®s
int√©ressante.&lt;/p&gt;

&lt;p&gt;Smaine a d√©coup√© sa conf√©rence en posant trois questions : pourquoi, comment et qui ?&lt;/p&gt;

&lt;h4 id=&quot;pourquoi-faire-de-lobservabilit√©-&quot;&gt;Pourquoi faire de l‚Äôobservabilit√© ?&lt;/h4&gt;

&lt;p&gt;Une application va forc√©ment planter √† un moment, nous dit Smaine pour r√©pondre √† sa premi√®re question.&lt;/p&gt;

&lt;p&gt;L‚Äôobservabilit√© permet non seulement de diminuer les risques que cela arrive, mais aussi d‚Äôanticiper les probl√®mes en
amont.&lt;/p&gt;

&lt;p&gt;Au-del√† des plantages, l‚Äôobservabilit√© ouvre la porte √† d‚Äôautres formes d‚Äôanalyses :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;d√©tecter les probl√®mes/changements de performance&lt;/li&gt;
  &lt;li&gt;capter les comportements inhabituels&lt;/li&gt;
  &lt;li&gt;ou simplement s‚Äôassurer qu‚Äôun syst√®me fonctionne correctement&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;comment-fait-on-&quot;&gt;Comment fait-on ?&lt;/h4&gt;

&lt;p&gt;Habituellement, l‚Äôobservabilit√© s‚Äôappuie sur trois piliers : les logs, les m√©triques et les traces, auxquels Smaine
ajoute un quatri√®me : les alertes.&lt;/p&gt;

&lt;p&gt;Pour r√©sumer ces diff√©rents piliers :&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;les logs doivent √™tre lus, et donc √™tre disponibles dans un outil d√©di√©&lt;/li&gt;
  &lt;li&gt;les m√©triques permettent d‚Äôobserver l‚Äô√©tat de sant√© d‚Äôune application
    &lt;ul&gt;
      &lt;li&gt;elles peuvent √™tre techniques (CPU, temps de r√©ponse d‚Äôune URL, etc)&lt;/li&gt;
      &lt;li&gt;ou m√©tier (nombre de ventes par jour, nombre d‚Äôinscriptions, etc)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;les traces permettent de suivre le comportement d‚Äôune application
    &lt;ul&gt;
      &lt;li&gt;par exemple pour une requ√™te HTTP, on aurait le temps pass√© dans chaque couche technique (base de donn√©es, un
controller PHP, lecture de cache, etc)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Et enfin, les alertes
    &lt;ul&gt;
      &lt;li&gt;elles ne doivent √™tre envoy√©es qu‚Äôen cas de probl√®me (pour √©viter de lasser les lecteurs)&lt;/li&gt;
      &lt;li&gt;elles peuvent se baser sur les m√©triques (m√™me m√©tier)&lt;/li&gt;
      &lt;li&gt;elles peuvent √™tre li√©es aux logs et aux traces pour aider √† les comprendre&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Smaine nous a √©galement rapidement parl√© des post mortems, qui sont essentiels apr√®s un incident pour apprendre des
erreurs et ne pas les reproduire.&lt;/p&gt;

&lt;h4 id=&quot;qui-est-responsable-de-la-mise-en-place-&quot;&gt;Qui est responsable de la mise en place ?&lt;/h4&gt;

&lt;p&gt;L‚Äôentreprise de Smaine, Yousign, a une organisation sous forme de squads.
Un squad est compos√© de plusieurs m√©tiers : dev, devops, PO, designer, chef de projet, etc.&lt;/p&gt;

&lt;p&gt;Ils sont alors responsables √† la fois de leur p√©rim√®tre, mais aussi de son observabilit√©. En gardant cette
responsabilit√© au sein d‚Äôun squad, les √©quipes sont plus attentives et r√©actives en cas d‚Äôincident.&lt;/p&gt;

&lt;h3 id=&quot;les-femmes-et-le-num√©rique&quot;&gt;Les femmes et le num√©rique&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/les-femmes-et-le-numerique.jpeg&quot; alt=&quot;Isabelle Collet&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Conf√©rence pr√©sent√©e par &lt;a href=&quot;https://twitter.com/colletisabelle4&quot;&gt;Isabelle Collet&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Isabelle Collet est ancienne d√©veloppeuse et sociologue √©panouie comme elle le dit elle-m√™me. Ce qui lui donne mati√®re √†
nous expliquer beaucoup de choses sur ‚Äúle choix des femmes de ne pas venir dans la tech‚Äù. Et bien, oui, pourquoi
sont-elles r√©ticentes ?&lt;/p&gt;

&lt;p&gt;Tout d‚Äôabord, Isabelle Collet nous parle de pays qui sont des contre-exemples, comme en Malaisie o√π les femmes sont la
majorit√© des postes informatiques et de d√©veloppement, elles sont aussi responsables d‚ÄôUniversit√©. Globalement, dans
certains pays d‚ÄôAsie, les femmes sont fortement repr√©sent√©es dans le secteur tertiaire, et pourquoi ?
Car ces m√©tiers sont consid√©r√©s comme des ‚Äúm√©tiers de femmes‚Äù, non salissant, pas physique et surtout possibilit√© de
t√©l√©travail ce qui leur permet de s‚Äôoccuper de leur famille.&lt;/p&gt;

&lt;p&gt;Puis gr√¢ce √† un petit retour dans le pass√©, nous d√©couvrons que les femmes au d√©part √©taient tr√®s pr√©sentes dans
l‚Äôinformatique et plus pr√©cis√©ment dans le d√©veloppement. Les hommes √©taient charg√©s de la conception des ordinateurs,
ce qui √©tait bien vu dans la soci√©t√©, mais la programmation √©tait un poste consid√©r√© comme inf√©rieur. Ce qui va changer
cela est l‚Äôapparition du micro-ordinateur qui va inverser la tendance et les hommes vont devenir plus nombreux √† coder
et les femmes vont progressivement ‚Äúdispara√Ætre‚Äù du paysage informatique.&lt;/p&gt;

&lt;p&gt;Pour rem√©dier √† cela, Isabelle Collet nous pr√©sente deux initiatives universitaires o√π pour r√©√©quilibrer le taux
hommes/femmes des quotas ont √©t√© impos√©s pendant une dizaine d‚Äôann√©es. Aujourd‚Äôhui l‚Äô√©quilibre de candidats se fait
naturellement.&lt;/p&gt;

&lt;p&gt;En conclusion, les choses √©voluent si on veut bien les faire √©voluer. Il faut continuer les efforts d‚Äôinclusion et la
lutte pour que les femmes soient plus nombreuses dans la tech.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Cette ann√©e, la fresque LEGO a c√©l√©br√© la diversit√© des membres de l‚ÄôAFUP et bien s√ªr le PHP.&lt;/p&gt;

&lt;p&gt;Ce forum f√ªt l‚Äôoccasion d‚Äô√©changer avec de nombreuses personnes, de d√©couvrir des sujets aussi bien techniques que
soci√©taux. On ne peut que f√©liciter les conf√©rencier¬∑e¬∑s et les b√©n√©voles pour un Forum PHP encore tr√®s r√©ussi !&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/forumphp2023/fresque-lego-communautaire.jpeg&quot; alt=&quot;La fresque LEGO communautaire&quot; /&gt;&lt;/p&gt;</content><author><name>Backend teams</name></author><category term="afup" /><category term="php" /><category term="forumphp" /><category term="conference" /><summary type="html">Cette ann√©e encore, Bedrock √©tait pr√©sent au Forum PHP pour cette √©dition 2023.</summary></entry><entry><title type="html">Json au service des devs #LFT 29/09/23</title><link href="https://tech.bedrockstreaming.com/json-au-service-des-devs" rel="alternate" type="text/html" title="Json au service des devs #LFT 29/09/23" /><published>2023-09-29T00:00:00+00:00</published><updated>2023-09-29T00:00:00+00:00</updated><id>https://tech.bedrockstreaming.com/json-au-service-des-devs</id><content type="html" xml:base="https://tech.bedrockstreaming.com/json-au-service-des-devs">&lt;blockquote&gt;
  &lt;p&gt;√âditer un CV, imprimer des fiches de recette, √©crire une lettre de motivation, r√©diger un rapport ‚Ä¶ Tant de choses fastidieuses √† √©crire et chiantes √† mettre en page (surtout quand on ne sait pas utiliser Word). C‚Äôest pourquoi j‚Äôai d√©velopp√© un outil pour m‚Äôaider √† faire tout √ßa en utilisant uniquement du JSON !&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Par &lt;strong&gt;Julie Nginn&lt;/strong&gt;&lt;/p&gt;</content><author><name>Julie Nginn</name></author><category term="lft" /><category term="tech" /><summary type="html">√âditer un CV, imprimer des fiches de recette, √©crire une lettre de motivation, r√©diger un rapport ‚Ä¶ Tant de choses fastidieuses √† √©crire et chiantes √† mettre en page (surtout quand on ne sait pas utiliser Word). C‚Äôest pourquoi j‚Äôai d√©velopp√© un outil pour m‚Äôaider √† faire tout √ßa en utilisant uniquement du JSON !</summary></entry></feed>