<!DOCTYPE html>
<!--
    Type on Strap jekyll theme v2.4.0
    Theme free for personal and commercial use under the MIT license
    https://github.com/sylhare/Type-on-Strap/blob/master/LICENSE
-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5">

    
    <!-- Theme Mode -->
    <script>
        const isAutoTheme = true;
        document.documentElement.setAttribute('data-theme', sessionStorage.getItem('theme'))
    </script>
    

    <!-- Main JS (navbar.js, katex_init.js and masonry_init.js)-->
    <script defer src="/assets/js/main.min.js"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/assets/favicon.png" type="image/x-icon">

    

    
    <!-- KaTeX 0.15.2 -->
    <script defer src="/assets/js/vendor/katex.min.js"></script>
    <script defer src="/assets/js/vendor/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
    

    
    <!-- Mermaid 8.13.10 -->
    <script defer src="/assets/js/vendor/mermaid.min.js" onload="mermaid.initialize({startOnLoad:true});"></script>
    

    <!-- Simple Jekyll Search 1.9.1 -->
    <script src="/assets/js/vendor/simple-jekyll-search.min.js" type="text/javascript"></script>

    
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
            var u="https://bedrockstreaming.matomo.cloud/";
            _paq.push(['setTrackerUrl', u+'matomo.php']);
            _paq.push(['setSiteId', '2']);
            var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
            g.async=true; g.src='//cdn.matomo.cloud/bedrockstreaming.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    

    <!-- Google Analytics / Cookie Consent -->
    <script>
      const cookieName = 'cookie-notice-dismissed-https://tech.bedrockstreaming.com';
      const isCookieConsent = 'false';
      const analyticsName = '';
    </script>

    
    

    <!-- SEO tags -->
    <meta property="og:image" content="https://tech.bedrockstreaming.com/images/common/banner_xl.jpg">
    
    <meta property="og:type" content="website" />
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Tentative d’explication des Fast-Forward sous Git | Bedrock Tech Blog</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Tentative d’explication des Fast-Forward sous Git" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Blog technique de Bedrock" />
<meta property="og:description" content="Blog technique de Bedrock" />
<link rel="canonical" href="https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git" />
<meta property="og:url" content="https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git" />
<meta property="og:site_name" content="Bedrock Tech Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-07-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Tentative d’explication des Fast-Forward sous Git" />
<script type="application/ld+json">
{"@type":"BlogPosting","description":"Blog technique de Bedrock","dateModified":"2012-07-13T00:00:00+00:00","datePublished":"2012-07-13T00:00:00+00:00","url":"https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git","headline":"Tentative d’explication des Fast-Forward sous Git","mainEntityOfPage":{"@type":"WebPage","@id":"https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <!-- RSS -->
    <link rel="alternate" type="application/atom+xml" title="Bedrock Tech Blog" href="https://tech.bedrockstreaming.com/feed.xml"/>
    <link type="application/atom+xml" rel="alternate" href="https://tech.bedrockstreaming.com/feed.xml" title="Bedrock Tech Blog" />

    <!-- Twitter Cards -->
    <meta name="twitter:title" content="Tentative d'explication des Fast-Forward sous Git">
    <meta name="twitter:description" content="Tous les projets M6Web sont passés récemment sous le système de gestion de contenu Git.Git, c’est super cool ! On peut faire facilement des branches, les “me...">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://tech.bedrockstreaming.com/images/common/banner_xl.jpg">
    <meta name="twitter:image:alt" content="Tentative d'explication des Fast-Forward sous Git">
</head>

  <body>
    <header class="site-header">

    <!-- Logo and title -->
	<div class="branding">
        
		<a href="/">
			<img alt="logo img" class="avatar" src="/images/common/br-site-logo.jpg" />
		</a>
        
        <a class="site-title" aria-label="Bedrock Tech Blog" href="/">
        Bedrock Tech Blog
		</a>
	</div>

    <!-- Toggle menu -->
    <nav class="clear">
    <a aria-label="pull" id="pull" class="toggle" href="#">
    <i class="fas fa-bars fa-lg"></i>
    </a>

    <!-- Menu -->
    <ul class="hide">
        

        
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Jobs" title="Jobs" href="/jobs/">
                     Jobs 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Last Friday Talks" title="Last Friday Talks" href="/lft/">
                     Last Friday Talks 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Meetups & Conferences" title="Meetups & Conferences" href="/meetups/">
                     Meetups & Conferences 
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="OSS" title="OSS" href="/oss/">
                     OSS 
                </a>
            </li>
            
            
        
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Search" title="Search" href="/search/">
                     <i class="fas fa-search" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            <li class="separator"> | </li>
            <li>
                <a class="clear" aria-label="Tags" title="Tags" href="/tags/">
                     <i class="fas fa-tags" aria-hidden="true"></i>
                    
                </a>
            </li>
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
            
            
        
        
        
        <li class="separator"> | </li>
        <li><a id="theme-toggle" title="Tentative d'explication des Fast-Forward sous Git " aria-label="Tentative d'explication des Fast-Forward sous Git" onclick="themeToggle()"></a></li>
        
    </ul>

	</nav>
</header>

    <div class="content">
      <article >
  <header id="main" style="">
    <div class="title-padder">
      
      <h1 id="Tentative+d%27explication+des+Fast-Forward+sous+Git" class="title">Tentative d'explication des Fast-Forward sous Git</h1>
      <div class="post-info">


  <span class="publication-date">
    
    December 
  </span>
</div>

      
    </div>
  </header>

  <section class="post-content">
  
      <p><img src="/images/posts/git-ff.png" alt="Tentative d'explication des Fast-Forward sous Git" /></p>

<p>Tous les projets M6Web sont passés récemment sous le système de gestion de contenu <a href="https://fr.wikipedia.org/wiki/Git">Git.</a></p>

<p>Git, c’est super cool ! On peut faire facilement des branches, les “merger” les unes aux autres et “switcher” d’une branche une autre. Pratique donc (dans l’idée) !</p>

<p>Il a été finalement assez facile de se faire au vocabulaire et au fonctionnement de git. Je ne dis pas que je ne fais pas non plus mes commit sur la bonne branche chaque fois, mais on arrive tout de même assez facilement à s’en sortir (“<em>git reset –help</em>” si vous êtes dans ce cas) !</p>

<p>Le très intéressant article “<a href="https://nvie.com/posts/a-successful-git-branching-model/">A successful Git branching model</a>” a mis en avant la gestion des <strong>fast-forward</strong>, cela dit l’utilité m’est resté assez floue et ne couvrait pas l’ensemble de mes questions.</p>

<p>J’ai donc fouillé la documentation de Git afin de débroussailler les “fast-forward”.</p>

<h3 id="que-fait-git-lors-dun-merge">Que fait git lors d’un merge</h3>

<p>Git “merge” deux branches lorsque :</p>

<ul>
  <li>La commande “merge” est utilisée, par exemple <em>git merge feature-myfeature</em>,</li>
  <li>la commande pull est utilisée, exemple <em>git pull origin master</em></li>
</ul>

<h3 id="git-fast-forward">Git “fast-forward”</h3>

<p>Mettons que Bob fasse une modification sur une branche, il crée un commit <strong>Y</strong>.</p>

<p>Il fait une autre modification qu’il commit, il crée alors un commit <strong>Z</strong>.</p>

<p>Automatiquement git “fast-forward”, c’est dire qu’il fait pointer la branche, qui pointait sur le commit <strong>Y</strong>, vers le commit <strong>Z</strong>. Sur les graphiques de <em>git log</em>, les deux commit sont liés par un trait continu.</p>

<pre>- Y - <strong>Z</strong></pre>

<p>Tant que Bob continue faire des modifications + commit sans toucher au fast-forward, git va automatiquement “fast-forwarder”. On aura donc un enchaînement de commit qui sont liés par un trait continu.</p>

<pre>- Y - Z - AA - AB - AC - ...</pre>

<h3 id="git-ne-fast-forward-pas">Git ne “fast-forward” pas</h3>

<p>Nous sommes maintenant sur une branche qui en est la révision <strong>X</strong>.</p>

<p>Alice travaille sur son projet et crée la révision <strong>A</strong>.</p>

<p>Cela dit, Bob travaille aussi sur le projet et crée la révision <strong>B</strong>.</p>

<p><strong>Alice pousse ses modifications :</strong></p>

<p>Le commit <strong>A</strong> a pour parent le commit <strong>X</strong>, qui est le dernier commit connu par la branche, Git peut donc “fast-forwarder”.</p>

<pre>- X - <strong>A</strong></pre>

<p><strong>Bob pousse ses modifications :</strong></p>

<p>Le commit de bob ne connaît pas de commit <strong>A</strong> dans son historique (son commit parent est le commit <strong>X</strong>).</p>

<pre>
- X - A
   \
    B</pre>

<p>Si git “fast-forwardait” ici, il ferait pointer la branche sur le commit <strong>B</strong>, et perdrait le commit <strong>A</strong>. Comme on ne souhaite pas perdre les modifications d’Alice, il va donc passer en mode “no fast-forward” automatiquement.</p>

<p>Git va donc récupérer les modifications de <strong>A</strong> et les mélanger (merge) aux modifications de <strong>B</strong> en créant un commit <strong>C</strong>.</p>

<p>Le commit <strong>C</strong> a pour parent les commit** B** et** A<strong>, le pointeur de dernier commit peut donc être placé sur **C</strong> sans risque de perte d’historique.</p>

<pre>- X - A</pre>
<pre>   \   \</pre>
<pre>    B - <strong>C</strong></pre>

<h3 id="option-no-ff">Option* –no-ff*</h3>

<p>L’auteur de l’article cité précédemment conseille d’utiliser l’option <em>–no-ff</em> sur les merge.</p>

<p>Cette option force git a créer un commit de “merge” qui aura pour parents notre commit de modification, et le dernier commit connu sur la branche, même si il n’y a pas eu de modification sur cette dernière.</p>

<p>Cela permet de revenir facilement à la version antérieure de la branche, sans avoir à fouiller dans les nombreux commits ayant pu amener un bug : on revient à la version initiale avant de passer plus de temps pour corriger le bug.</p>

<pre>- M1 -- -- -- -- M2</pre>
<pre>    \            /</pre>
<pre>     B1 - B2 - B3</pre>

<p>Dans l’exemple ci-dessus, on peut facilement revenir au commit <strong>M1</strong>, et exclure ainsi toute la branche <strong>B</strong>. Si on avait “fast-forwardé”, il nous aurait fallut retrouver le commit <strong>M1</strong> en regardant tous les commit précédent.</p>

<h3 id="mode-auto-contre-no-ff">Mode auto contre <em>–no-ff</em></h3>

<p>Forcer le *–no-ff *ne sera finalement utile que lorsque vous développez une fonctionnalité pour laquelle vous allez beaucoup “commiter”, sans que personne d’autre ne commit entre-temps.</p>

<p>A vous de l’utiliser de manière intelligente !</p>

<h4 id="sources">Sources</h4>

<ul>
  <li>nvie.com : <a href="https://nvie.com/posts/a-successful-git-branching-model/">A successful Git Branching Model</a></li>
  <li><em>git push –help</em></li>
</ul>


    
  </section>

  <!-- Social media shares -->
  

<div class="share-buttons">
    <ul class="share-buttons">
        <li class="meta">Share</li>
         
        <li>
            <a href="https://twitter.com/intent/tweet?text=Tentative+d%27explication+des+Fast-Forward+sous+Git%20https%3A%2F%2Ftech.bedrockstreaming.com%2Ftentative-d-explication-des-fast-forward-sous-git"
               target="_blank" title="">
                <i class="fab fa-twitter-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Tweet</span>
            </a>
        </li>
             
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git&title=Tentative+d%27explication+des+Fast-Forward+sous+Git%20%7C%20Bedrock+Tech+Blog&summary=&source=https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git"
               target="_blank" title=" LinkedIn">
                <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Share on LinkedIn</span>
            </a>
        </li>
          
        <li>
            <a href="mailto:?subject=Tentative d'explication des Fast-Forward sous Git%20%7C%20Bedrock Tech Blog&body=https://tech.bedrockstreaming.com/tentative-d-explication-des-fast-forward-sous-git"
               target="_blank" title="">
                <i class="fas fa-envelope-square fa-2x" aria-hidden="true"></i>
                <span class="sr-only">Email</span></a>
        </li>
        
    </ul>
</div>




   <!-- Tag list -->
  
  


  <div class="tag-list">
    <ul>
      
        <li class="meta">Tag</li>
      

      
        <li><a class="button" href="/tags/#git">
          <p><i class="fas fa-tag fa-fw fa-sm"></i> git</p>
        </a></li>
      
    </ul>
  </div>



</article>

<!-- Post navigation -->

<div id="post-nav">
    
    <div id="previous-post">
        <a alt="CR Velocity Conférence Europe 2012 : Day 1" href="/cr-velocity-conference-europe-2012-day-1">
            <p>Previous post</p>
            CR Velocity Conférence Europe 2012 : Day 1
        </a>
    </div>
    

    
    <div id="next-post">
        <a alt="Retrouvez l'intervention du CTO de M6 Web, Martin Boronski, à la table ronde du Forum PHP 2012" href="/retrouvez-l-intervention-du-cto-de-m6-web-martin-boronski-a-la-table-ronde-du-forum-php-2012">
            <p>Next post</p>
            Retrouvez l'intervention du CTO de M6 Web, Martin Boronski, à la table ronde du Forum PHP 2012
        </a>
    </div>
    
</div>



<!--Utterances-->


<!-- Cusdis -->


<!-- Disqus -->


<!-- To change color of links in the page -->
<style>
  header#main {
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
  }

  

  
</style>

    </div>
    <footer class="site-footer">
    <p class="text">
        Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/sylhare/Type-on-Strap">Type on Strap</a>
</p>
            <div class="footer-icons">
                <ul>
                <!-- Social icons from Font Awesome, if enabled -->
                
<li>
    <a feed.xml href="/feed.xml"
       title="Follow RSS feed"
       target="_blank">
        <span class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
        </span>
    </a>
</li>



    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://github.com/BedrockStreaming"
               title="Follow on Github"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-github fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.linkedin.com/company/bedrock-streaming"
               title="Follow on Linkedin"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://twitter.com/Bedrock_Tech"
               title="Follow on Twitter"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    

    

    

    

    
        
        
        
        
        <li>
            <a href="https://www.youtube.com/channel/UCSwvTdCWHS6ulRaIqdk7lNw"
               title="Follow on Youtube"
               target="_blank"
               rel="noopener">
            <span class="fa-stack fa-lg">
              <i class="fas fa-circle fa-stack-2x"></i>
              <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
            </span>
            </a>
        </li>
    


                </ul>
            </div>
</footer>



  </body>
</html>
